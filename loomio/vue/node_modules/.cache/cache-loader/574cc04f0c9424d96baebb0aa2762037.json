{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!/home/gustavo/Documents/tese/loomio/vue/src/components/dashboard/page.vue?vue&type=script&lang=coffee&","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/components/dashboard/page.vue","mtime":1706724415800},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js","mtime":1706724499784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWJvdW5jZSBmcm9tICJsb2Rhc2gvZGVib3VuY2UiOwppbXBvcnQgX29yZGVyQnkgZnJvbSAibG9kYXNoL29yZGVyQnkiOwppbXBvcnQgQXBwQ29uZmlnIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2FwcF9jb25maWcnOwppbXBvcnQgUmVjb3JkcyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9yZWNvcmRzJzsKaW1wb3J0IFNlc3Npb24gZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvc2Vzc2lvbic7CmltcG9ydCBFdmVudEJ1cyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9ldmVudF9idXMnOwppbXBvcnQgQWJpbGl0eVNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvYWJpbGl0eV9zZXJ2aWNlJzsKaW1wb3J0IFJlY29yZExvYWRlciBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9yZWNvcmRfbG9hZGVyJzsKaW1wb3J0IFRocmVhZEZpbHRlciBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy90aHJlYWRfZmlsdGVyJzsKaW1wb3J0IHsgc3ViRGF5cywgYWRkRGF5cywgc3ViV2Vla3MsIHN1Yk1vbnRocyB9IGZyb20gJ2RhdGUtZm5zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhc2hib2FyZExvYWRlZDogUmVjb3Jkcy5kaXNjdXNzaW9ucy5jb2xsZWN0aW9uLmRhdGEubGVuZ3RoID4gMCwKICAgICAgZmlsdGVyOiB0aGlzLiRyb3V0ZS5wYXJhbXMuZmlsdGVyIHx8ICdoaWRlX211dGVkJywKICAgICAgZGlzY3Vzc2lvbnM6IFtdLAogICAgICBsb2FkZXI6IG51bGwsCiAgICAgIHNlYXJjaExvYWRlcjogbnVsbCwKICAgICAgc2VhcmNoUmVzdWx0czogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLm9uUXVlcnlJbnB1dCA9IF9kZWJvdW5jZSh2YWwgPT4gewogICAgICByZXR1cm4gdGhpcy4kcm91dGVyLnJlcGxhY2UodGhpcy5tZXJnZVF1ZXJ5KHsKICAgICAgICBxOiB2YWwKICAgICAgfSkpOwogICAgfSwgMTAwMCk7CiAgICB0aGlzLmluaXQoKTsKICAgIHJldHVybiBFdmVudEJ1cy4kb24oJ3NpZ25lZEluJywgdGhpcy5pbml0KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBFdmVudEJ1cy4kb2ZmKCdzaWduZWRJbicsIHRoaXMuaW5pdCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICBFdmVudEJ1cy4kZW1pdCgnY29udGVudC10aXRsZS12aXNpYmxlJywgZmFsc2UpOwogICAgcmV0dXJuIEV2ZW50QnVzLiRlbWl0KCdjdXJyZW50Q29tcG9uZW50JywgewogICAgICB0aXRsZUtleTogJ2Rhc2hib2FyZF9wYWdlLmFyaWFfbGFiZWwnLAogICAgICBwYWdlOiAnZGFzaGJvYXJkUGFnZScsCiAgICAgIHNlYXJjaDogewogICAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLiR0KCduYXZiYXIuc2VhcmNoX2FsbF90aHJlYWRzJykKICAgICAgfQogICAgfSk7CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZS5xdWVyeSc6ICdyZWZyZXNoJwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmxvYWRlciA9IG5ldyBSZWNvcmRMb2FkZXIoewogICAgICAgIGNvbGxlY3Rpb246ICdkaXNjdXNzaW9ucycsCiAgICAgICAgcGF0aDogJ2Rhc2hib2FyZCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBleGNsdWRlX3R5cGVzOiAncG9sbCcsCiAgICAgICAgICBmaWx0ZXI6IHRoaXMuZmlsdGVyLAogICAgICAgICAgcGVyOiA2MAogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuc2VhcmNoTG9hZGVyID0gbmV3IFJlY29yZExvYWRlcih7CiAgICAgICAgY29sbGVjdGlvbjogJ3NlYXJjaFJlc3VsdHMnCiAgICAgIH0pOwogICAgICB0aGlzLndhdGNoUmVjb3Jkcyh7CiAgICAgICAga2V5OiAnZGFzaGJvYXJkJywKICAgICAgICBjb2xsZWN0aW9uczogWydkaXNjdXNzaW9ucycsICdzZWFyY2hSZXN1bHRzJywgJ21lbWJlcnNoaXBzJ10sCiAgICAgICAgcXVlcnk6IHRoaXMucXVlcnkKICAgICAgfSk7CiAgICAgIHJldHVybiB0aGlzLnJlZnJlc2goKTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghU2Vzc2lvbi5pc1NpZ25lZEluKCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZmV0Y2goKTsKICAgICAgcmV0dXJuIHRoaXMucXVlcnkoKTsKICAgIH0sCiAgICBmZXRjaDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMubG9hZGVyKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkucSkgewogICAgICAgIHJldHVybiB0aGlzLnNlYXJjaExvYWRlci5mZXRjaFJlY29yZHMoewogICAgICAgICAgcTogdGhpcy4kcm91dGUucXVlcnkucSwKICAgICAgICAgIGZyb206IDAKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZGFzaGJvYXJkTG9hZGVkID0gdHJ1ZTsKICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5KCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGVyLmZldGNoUmVjb3JkcygpLnRoZW4oKCkgPT4gewogICAgICAgICAgcmV0dXJuIHRoaXMuZGFzaGJvYXJkTG9hZGVkID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHF1ZXJ5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjaGFpbiwgZ3JvdXBJZHM7CgogICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkucSkgewogICAgICAgIGNoYWluID0gUmVjb3Jkcy5zZWFyY2hSZXN1bHRzLmNvbGxlY3Rpb24uY2hhaW4oKTsKICAgICAgICBjaGFpbiA9IGNoYWluLmZpbmQoewogICAgICAgICAgcXVlcnk6IHRoaXMuJHJvdXRlLnF1ZXJ5LnEKICAgICAgICB9KS5kYXRhKCk7CiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoUmVzdWx0cyA9IF9vcmRlckJ5KGNoYWluLCAncmFuaycsICdkZXNjJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZ3JvdXBJZHMgPSBSZWNvcmRzLm1lbWJlcnNoaXBzLmNvbGxlY3Rpb24uZmluZCh7CiAgICAgICAgICB1c2VySWQ6IFNlc3Npb24udXNlcigpLmlkCiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICByZXR1cm4gbS5ncm91cElkOwogICAgICAgIH0pOwogICAgICAgIGNoYWluID0gUmVjb3Jkcy5kaXNjdXNzaW9ucy5jb2xsZWN0aW9uLmNoYWluKCk7CiAgICAgICAgY2hhaW4gPSBjaGFpbi5maW5kKHsKICAgICAgICAgICRvcjogW3sKICAgICAgICAgICAgZ3JvdXBJZDogewogICAgICAgICAgICAgICRpbjogZ3JvdXBJZHMKICAgICAgICAgICAgfQogICAgICAgICAgfSwgewogICAgICAgICAgICBkaXNjdXNzaW9uUmVhZGVyVXNlcklkOiBTZXNzaW9uLnVzZXIoKS5pZCwKICAgICAgICAgICAgcmV2b2tlZEF0OiBudWxsCiAgICAgICAgICB9XQogICAgICAgIH0pOwogICAgICAgIGNoYWluID0gY2hhaW4uZmluZCh7CiAgICAgICAgICBkaXNjYXJkZWRBdDogbnVsbAogICAgICAgIH0pOwogICAgICAgIGNoYWluID0gY2hhaW4uZmluZCh7CiAgICAgICAgICBjbG9zZWRBdDogbnVsbAogICAgICAgIH0pOwogICAgICAgIGNoYWluID0gY2hhaW4uZmluZCh7CiAgICAgICAgICBsYXN0QWN0aXZpdHlBdDogewogICAgICAgICAgICAkZ3Q6IHN1Yk1vbnRocyhuZXcgRGF0ZSgpLCA2KQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmRpc2N1c3Npb25zID0gY2hhaW4uc2ltcGxlc29ydCgnbGFzdEFjdGl2aXR5QXQnLCB0cnVlKS5kYXRhKCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBub0dyb3VwczogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gU2Vzc2lvbi51c2VyKCkuZ3JvdXBzKCkubGVuZ3RoID09PSAwOwogICAgfSwKICAgIHByb21wdFN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLm5vR3JvdXBzICYmIEFiaWxpdHlTZXJ2aWNlLmNhblN0YXJ0R3JvdXBzKCk7CiAgICB9LAogICAgdXNlckhhc011dGVkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBTZXNzaW9uLnVzZXIoKS5oYXNFeHBlcmllbmNlZCgibXV0aW5nVGhyZWFkIik7CiAgICB9LAogICAgc2hvd0xhcmdlSW1hZ2U6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/components/dashboard/page.vue"],"names":[],"mappings":"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","sourcesContent":["\nimport AppConfig          from '@/shared/services/app_config'\nimport Records            from '@/shared/services/records'\nimport Session            from '@/shared/services/session'\nimport EventBus           from '@/shared/services/event_bus'\nimport AbilityService     from '@/shared/services/ability_service'\nimport RecordLoader       from '@/shared/services/record_loader'\nimport ThreadFilter       from '@/shared/services/thread_filter'\nimport { capitalize, take, keys, every, orderBy, debounce } from 'lodash'\nimport { subDays, addDays, subWeeks, subMonths } from 'date-fns'\n\nexport default\n  data: ->\n    dashboardLoaded: Records.discussions.collection.data.length > 0\n    filter: @$route.params.filter || 'hide_muted'\n    discussions: []\n    loader: null\n    searchLoader: null\n    searchResults: []\n\n  created: ->\n    @onQueryInput = debounce (val) =>\n      @$router.replace(@mergeQuery(q: val))\n    , 1000\n\n    @init()\n    EventBus.$on 'signedIn', @init\n\n  beforeDestroy: ->\n    EventBus.$off 'signedIn', @init\n\n  mounted: ->\n    EventBus.$emit('content-title-visible', false)\n    EventBus.$emit 'currentComponent',\n      titleKey: 'dashboard_page.aria_label'\n      page: 'dashboardPage'\n      search:\n        placeholder: @$t('navbar.search_all_threads')\n\n  watch:\n    '$route.query': 'refresh'\n\n  methods:\n    init: ->\n      @loader = new RecordLoader\n        collection: 'discussions'\n        path: 'dashboard'\n        params:\n          exclude_types: 'poll'\n          filter: @filter\n          per: 60\n\n      @searchLoader = new RecordLoader\n        collection: 'searchResults'\n\n      @watchRecords\n        key: 'dashboard'\n        collections: ['discussions', 'searchResults', 'memberships']\n        query: @query\n\n      @refresh()\n\n    refresh: ->\n      return unless Session.isSignedIn()\n      @fetch()\n      @query()\n\n    fetch: ->\n      return unless @loader\n      if @$route.query.q\n        @searchLoader.fetchRecords(q: @$route.query.q, from: 0).then =>\n          @dashboardLoaded = true\n          @query()\n      else\n        @loader.fetchRecords().then => @dashboardLoaded = true\n\n    query: ->\n      if @$route.query.q\n        chain = Records.searchResults.collection.chain()\n        chain = chain.find(query: @$route.query.q).data()\n        @searchResults = orderBy(chain, 'rank', 'desc')\n      else\n        groupIds = Records.memberships.collection.find(userId: Session.user().id).map (m) -> m.groupId\n        chain = Records.discussions.collection.chain()\n        chain = chain.find($or: [{groupId: {$in: groupIds}}, {discussionReaderUserId: Session.user().id, revokedAt: null}])\n        chain = chain.find(discardedAt: null)\n        chain = chain.find(closedAt: null)\n        chain = chain.find(lastActivityAt: { $gt: subMonths(new Date(), 6) })\n        @discussions = chain.simplesort('lastActivityAt', true).data()\n\n  computed:\n    noGroups: -> Session.user().groups().length == 0\n    promptStart: ->\n      @noGroups && AbilityService.canStartGroups()\n    userHasMuted: -> Session.user().hasExperienced(\"mutingThread\")\n    showLargeImage: -> true\n\n"],"sourceRoot":""}]}