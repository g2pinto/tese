{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/src/shared/services/user_service.coffee","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/shared/services/user_service.coffee","mtime":1706724415812},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIFVzZXJTZXJ2aWNlOwppbXBvcnQgU2Vzc2lvbiBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9zZXNzaW9uJzsKaW1wb3J0IFJlY29yZHMgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvcmVjb3Jkcyc7CmltcG9ydCBGbGFzaCBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9mbGFzaCc7CmltcG9ydCBFdmVudEJ1cyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9ldmVudF9idXMnOwppbXBvcnQgQWJpbGl0eVNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvYWJpbGl0eV9zZXJ2aWNlJzsKaW1wb3J0IHsgaGFyZFJlbG9hZCB9IGZyb20gJ0Avc2hhcmVkL2hlbHBlcnMvd2luZG93JzsKZXhwb3J0IGRlZmF1bHQgbmV3IChVc2VyU2VydmljZSA9IGNsYXNzIFVzZXJTZXJ2aWNlIHsKICBhY3Rpb25zKHVzZXIsIHZtKSB7CiAgICByZXR1cm4gewogICAgICBjaGFuZ2VfcGFzc3dvcmQ6IHsKICAgICAgICBpY29uOiAnbWRpLWxvY2stcmVzZXQnLAogICAgICAgIG5hbWU6ICdwcm9maWxlX3BhZ2UuY2hhbmdlX3Bhc3N3b3JkX2xpbmsnLAogICAgICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0sCiAgICAgICAgcGVyZm9ybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIEV2ZW50QnVzLiRlbWl0KCdvcGVuTW9kYWwnLCB7CiAgICAgICAgICAgIGNvbXBvbmVudDogJ0NoYW5nZVBhc3N3b3JkRm9ybScsCiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgdXNlcjogdXNlcgogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1lcmdlX2FjY291bnRzOiB7CiAgICAgICAgaWNvbjogJ21kaS1hY2NvdW50LW11bHRpcGxlJywKICAgICAgICBuYW1lOiAncHJvZmlsZV9wYWdlLm1lcmdlX2FjY291bnRzJywKICAgICAgICBjYW5QZXJmb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIHBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBFdmVudEJ1cy4kZW1pdCgnb3Blbk1vZGFsJywgewogICAgICAgICAgICBjb21wb25lbnQ6ICdDb25maXJtTW9kYWwnLAogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIGNvbmZpcm06IHsKICAgICAgICAgICAgICAgIHRleHQ6IHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICdtZXJnZV9hY2NvdW50cy5tb2RhbC50aXRsZScsCiAgICAgICAgICAgICAgICAgIHJhd19oZWxwdGV4dDogdm0uJHQoJ21lcmdlX2FjY291bnRzLnBsYWNlaG9sZGVyX21vZGFsX3RleHQnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWFjdGl2YXRlX3VzZXI6IHsKICAgICAgICBpY29uOiAnbWRpLWV4aXQtcnVuJywKICAgICAgICBuYW1lOiAncHJvZmlsZV9wYWdlLmRlbGV0ZV91c2VyX2xpbmsnLAogICAgICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAhdXNlci5kZWFjdGl2YXRlZEF0OwogICAgICAgIH0sCiAgICAgICAgcGVyZm9ybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIEV2ZW50QnVzLiRlbWl0KCdvcGVuTW9kYWwnLCB7CiAgICAgICAgICAgIGNvbXBvbmVudDogJ0NvbmZpcm1Nb2RhbCcsCiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgY29uZmlybTogewogICAgICAgICAgICAgICAgdGV4dDogewogICAgICAgICAgICAgICAgICB0aXRsZTogJ3Byb2ZpbGVfcGFnZS5kZWxldGVfYWNjb3VudCcsCiAgICAgICAgICAgICAgICAgIHJhd19oZWxwdGV4dDogYDxwPiR7dm0uJHQoJ2RlYWN0aXZhdGlvbl9tb2RhbC5pbnRyb2R1Y3Rpb24nKX08L3A+IDx1bD4gPGxpPiR7dm0uJHQoJ2RlYWN0aXZhdGlvbl9tb2RhbC55b3Vfd2lsbF9iZV9kZWxldGVkJyl9PC9saT4gPGxpPiR7dm0uJHQoJ2RlYWN0aXZhdGlvbl9tb2RhbC5uYW1lX3JlbW92ZWQnKX08L2xpPiA8bGk+JHt2bS4kdCgnZGVhY3RpdmF0aW9uX21vZGFsLm5vX2xvbmdlcl9ncm91cF9tZW1iZXInKX08L2xpPiA8bGk+JHt2bS4kdCgnZGVhY3RpdmF0aW9uX21vZGFsLm5vX2VtYWlscycpfTwvbGk+IDwvdWw+YCwKICAgICAgICAgICAgICAgICAgc3VibWl0OiAnZGVhY3RpdmF0aW9uX21vZGFsLnN1Ym1pdF9kZWxldGUnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBSZWNvcmRzLnVzZXJzLmRlc3Ryb3koKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2s6IGhhcmRSZWxvYWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9Cgp9KSgpOw=="},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/shared/services/user_service.coffee"],"names":[],"mappings":"AAAA,IAAA,WAAA;AAAA,OAAA,OAAA,MAAA,2BAAA;AACA,OAAA,OAAA,MAAA,2BAAA;AACA,OAAA,KAAA,MAAA,yBAAA;AACA,OAAA,QAAA,MAAA,6BAAA;AACA,OAAA,cAAA,MAAA,mCAAA;AACA,SAAA,UAAA,QAAA,yBAAA;AAEA,eAAe,KAAU,WAAA,GAAN,MAAA,WAAA,CAAA;AACjB,EAAA,OAAS,CAAA,IAAA,EAAA,EAAA,EAAA;WACP;AAAA,MAAA,eAAA,EACE;AAAA,QAAA,IAAA,EAAA,gBAAA;AACA,QAAA,IAAA,EADA,mCAAA;AAEA,QAAA,UAAA,EAAY,YAAA;iBAAG,I;AAFf,SAAA;AAGA,QAAA,OAAA,EAAS,YAAA;iBACP,QAAQ,CAAR,KAAA,CAAA,WAAA,EACE;AAAA,YAAA,SAAA,EAAA,oBAAA;AACA,YAAA,KAAA,EACE;AAAA,cAAA,IAAA,EAAM;AAAN;AAFF,WADF,C;AADO;AAHT,OADF;AAUA,MAAA,cAAA,EACE;AAAA,QAAA,IAAA,EAAA,sBAAA;AACA,QAAA,IAAA,EADA,6BAAA;AAEA,QAAA,UAAA,EAAY,YAAA;iBAAG,I;AAFf,SAAA;AAGA,QAAA,OAAA,EAAS,YAAA;iBACP,QAAQ,CAAR,KAAA,CAAA,WAAA,EACE;AAAA,YAAA,SAAA,EAAA,cAAA;AACA,YAAA,KAAA,EACE;AAAA,cAAA,OAAA,EACE;AAAA,gBAAA,IAAA,EACE;AAAA,kBAAA,KAAA,EAAA,4BAAA;AACA,kBAAA,YAAA,EAAc,EAAE,CAAF,EAAA,CAAA,uCAAA;AADd;AADF;AADF;AAFF,WADF,C;AADO;AAHT,OAXF;AAuBA,MAAA,eAAA,EACE;AAAA,QAAA,IAAA,EAAA,cAAA;AACA,QAAA,IAAA,EADA,+BAAA;AAEA,QAAA,UAAA,EAAY,YAAA;iBAAG,CAAC,IAAI,CAAC,a;AAFrB,SAAA;AAGA,QAAA,OAAA,EAAS,YAAA;iBACP,QAAQ,CAAR,KAAA,CAAA,WAAA,EACE;AAAA,YAAA,SAAA,EAAA,cAAA;AACA,YAAA,KAAA,EACE;AAAA,cAAA,OAAA,EACE;AAAA,gBAAA,IAAA,EACE;AAAA,kBAAA,KAAA,EAAA,6BAAA;AACA,kBAAA,YAAA,EAAc,MACP,EAAE,CAAF,EAAA,CADO,iCACP,CADO,iBAGJ,EAAE,CAAF,EAAA,CAHI,wCAGJ,CAHI,aAIJ,EAAE,CAAF,EAAA,CAJI,iCAIJ,CAJI,aAKJ,EAAE,CAAF,EAAA,CALI,2CAKJ,CALI,aAMJ,EAAE,CAAF,EAAA,CANI,8BAMJ,CAPV,aAAA;AASA,kBAAA,MAAA,EAAQ;AATR,iBADF;AAWA,gBAAA,MAAA,EAAQ,YAAA;yBAAG,OAAO,CAAC,KAAR,CAAA,OAAA,E;AAXX,iBAAA;AAYA,gBAAA,eAAA,EAAiB;AAZjB;AADF;AAFF,WADF,C;AADO;AAHT;AAxBF,K;AADO;;AADQ,CAAJ,GAAf","sourcesContent":["import Session       from '@/shared/services/session'\nimport Records       from '@/shared/services/records'\nimport Flash         from '@/shared/services/flash'\nimport EventBus       from '@/shared/services/event_bus'\nimport AbilityService from '@/shared/services/ability_service'\nimport { hardReload } from '@/shared/helpers/window'\n\nexport default new class UserService\n  actions: (user, vm) ->\n    change_password:\n      icon: 'mdi-lock-reset'\n      name: 'profile_page.change_password_link'\n      canPerform: -> true\n      perform: ->\n        EventBus.$emit 'openModal',\n          component: 'ChangePasswordForm',\n          props:\n            user: user\n\n    merge_accounts:\n      icon: 'mdi-account-multiple'\n      name: 'profile_page.merge_accounts'\n      canPerform: -> true\n      perform: ->\n        EventBus.$emit 'openModal',\n          component: 'ConfirmModal'\n          props:\n            confirm:\n              text:\n                title: 'merge_accounts.modal.title'\n                raw_helptext: vm.$t('merge_accounts.placeholder_modal_text')\n\n    deactivate_user:\n      icon: 'mdi-exit-run'\n      name: 'profile_page.delete_user_link'\n      canPerform: -> !user.deactivatedAt\n      perform: ->\n        EventBus.$emit 'openModal',\n          component: 'ConfirmModal',\n          props:\n            confirm:\n              text:\n                title: 'profile_page.delete_account'\n                raw_helptext: \"\n                  <p>#{vm.$t('deactivation_modal.introduction')}</p>\n                  <ul>\n                    <li>#{vm.$t('deactivation_modal.you_will_be_deleted')}</li>\n                    <li>#{vm.$t('deactivation_modal.name_removed')}</li>\n                    <li>#{vm.$t('deactivation_modal.no_longer_group_member')}</li>\n                    <li>#{vm.$t('deactivation_modal.no_emails')}</li>\n                  </ul>\"\n                submit: 'deactivation_modal.submit_delete'\n              submit: -> Records.users.destroy()\n              successCallback: hardReload\n"],"sourceRoot":""}]}