{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/src/shared/models/membership_request_model.coffee","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/shared/models/membership_request_model.coffee","mtime":1706724415808},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jYXBpdGFsaXplIGZyb20gImxvZGFzaC9jYXBpdGFsaXplIjsKdmFyIE1lbWJlcnNoaXBSZXF1ZXN0TW9kZWw7CmltcG9ydCBCYXNlTW9kZWwgZnJvbSAnQC9zaGFyZWQvcmVjb3JkX3N0b3JlL2Jhc2VfbW9kZWwnOwppbXBvcnQgQXBwQ29uZmlnIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2FwcF9jb25maWcnOwpleHBvcnQgZGVmYXVsdCBNZW1iZXJzaGlwUmVxdWVzdE1vZGVsID0gZnVuY3Rpb24gKCkgewogIGNsYXNzIE1lbWJlcnNoaXBSZXF1ZXN0TW9kZWwgZXh0ZW5kcyBCYXNlTW9kZWwgewogICAgZGVmYXVsdFZhbHVlcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpbnRyb2R1Y3Rpb246IG51bGwsCiAgICAgICAgZ3JvdXBJZDogbnVsbAogICAgICB9OwogICAgfQoKICAgIHJlbGF0aW9uc2hpcHMoKSB7CiAgICAgIHRoaXMuYmVsb25nc1RvKCdncm91cCcpOwogICAgICB0aGlzLmJlbG9uZ3NUbygncmVxdWVzdG9yJywgewogICAgICAgIGZyb206ICd1c2VycycKICAgICAgfSk7CiAgICAgIHJldHVybiB0aGlzLmJlbG9uZ3NUbygncmVzcG9uZGVyJywgewogICAgICAgIGZyb206ICd1c2VycycKICAgICAgfSk7CiAgICB9CgogICAgYWZ0ZXJDb25zdHJ1Y3Rpb24oKSB7CiAgICAgIHZhciBuYW1lOwogICAgICBuYW1lID0gdGhpcy5uYW1lIHx8IHRoaXMuZW1haWwgfHwgJyc7CiAgICAgIHJldHVybiB0aGlzLmZha2VVc2VyID0gewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgYXZhdGFyS2luZDogJ2luaXRpYWxzJywKICAgICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgICAgc2luZ3VsYXI6ICd1c2VyJwogICAgICAgIH0sCiAgICAgICAgYXZhdGFySW5pdGlhbHM6IG5hbWUuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0WzBdOwogICAgICAgIH0pLmpvaW4oJycpCiAgICAgIH07CiAgICB9CgogICAgbmFtZUFuZEVtYWlsKCkgewogICAgICBpZiAodGhpcy5hY3RvcigpLmVtYWlsKSB7CiAgICAgICAgcmV0dXJuIGAke3RoaXMuYWN0b3IoKS5uYW1lfSA8JHt0aGlzLmFjdG9yKCkuZW1haWx9PmA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWN0b3IoKS5uYW1lOwogICAgICB9CiAgICB9CgogICAgYWN0b3IoKSB7CiAgICAgIGlmICh0aGlzLmJ5RXhpc3RpbmdVc2VyKCkpIHsKICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0b3IoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5mYWtlVXNlcjsKICAgICAgfQogICAgfQoKICAgIGJ5RXhpc3RpbmdVc2VyKCkgewogICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0b3JJZCAhPSBudWxsOwogICAgfQoKICAgIGlzUGVuZGluZygpIHsKICAgICAgcmV0dXJuIHRoaXMucmVzcG9uZGVkQXQgPT0gbnVsbDsKICAgIH0KCiAgICBmb3JtYXR0ZWRSZXNwb25zZSgpIHsKICAgICAgcmV0dXJuIF9jYXBpdGFsaXplKHRoaXMucmVzcG9uc2UpOwogICAgfQoKICB9CgogIDsKICBNZW1iZXJzaGlwUmVxdWVzdE1vZGVsLnNpbmd1bGFyID0gJ21lbWJlcnNoaXBSZXF1ZXN0JzsKICBNZW1iZXJzaGlwUmVxdWVzdE1vZGVsLnBsdXJhbCA9ICdtZW1iZXJzaGlwUmVxdWVzdHMnOwogIE1lbWJlcnNoaXBSZXF1ZXN0TW9kZWwuaW5kaWNlcyA9IFsnaWQnLCAnZ3JvdXBJZCddOwogIHJldHVybiBNZW1iZXJzaGlwUmVxdWVzdE1vZGVsOwp9LmNhbGwodGhpcyk7"},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/shared/models/membership_request_model.coffee"],"names":[],"mappings":";AAAA,IAAA,sBAAA;AAAA,OAAA,SAAA,MAAA,kCAAA;AACA,OAAA,SAAA,MAAA,8BAAA;AAGA,eAAqB,sBAAA,GAAA,YAAA;AAAN,QAAA,sBAAA,SAAqC,SAArC,CAAA;AAKb,IAAA,aAAe,GAAA;aACb;AAAA,QAAA,YAAA,EAAA,IAAA;AACA,QAAA,OAAA,EAAS;AADT,O;AADa;;AAIf,IAAA,aAAe,GAAA;AACb,WAAA,SAAA,CAAA,OAAA;AACA,WAAA,SAAA,CAAA,WAAA,EAAwB;AAAA,QAAA,IAAA,EAAM;AAAN,OAAxB;aACA,KAAA,SAAA,CAAA,WAAA,EAAwB;AAAA,QAAA,IAAA,EAAM;AAAN,OAAxB,C;AAHa;;AAKf,IAAA,iBAAmB,GAAA;AACrB,UAAA,IAAA;AAAI,MAAA,IAAA,GAAO,KAAA,IAAA,IAAS,KAAT,KAAA,IAAmB,EAA1B;aACA,KAAA,QAAA,GACE;AAAA,QAAA,IAAA,EAAA,IAAA;AACA,QAAA,KAAA,EAAO,KADP,KAAA;AAEA,QAAA,UAAA,EAFA,UAAA;AAGA,QAAA,WAAA,EAAa;AAAC,UAAA,QAAA,EAAU;AAAX,SAHb;AAIA,QAAA,cAAA,EAAgB,IAAI,CAAJ,KAAA,CAAA,GAAA,EAAA,GAAA,CAAoB,UAAA,CAAA,EAAA;iBAAO,CAAC,CAAA,CAAA,C;AAA5B,SAAA,EAAA,IAAA,CAAA,EAAA;AAJhB,O;AAHe;;AASnB,IAAA,YAAc,GAAA;AACZ,UAAG,KAAA,KAAA,GAAH,KAAA,EAAA;AACE,eAAA,GAAG,KAAA,KAAA,GAAH,IAAA,KAAqB,KAAA,KAAA,GAArB,KADF,GACE;AADF,OAAA,MAAA;eAGE,KAAA,KAAA,GAHF,I;;AADY;;AAMd,IAAA,KAAO,GAAA;AACL,UAAG,KAAH,cAAG,EAAH,EAAA;eAA0B,KAA1B,SAA0B,E;AAA1B,OAAA,MAAA;eAA4C,KAA5C,Q;;AADK;;AAGP,IAAA,cAAgB,GAAA;aACd,KAAA,WAAA,IAAA,I;AADc;;AAGhB,IAAA,SAAW,GAAA;aACR,KAAA,WAAA,IAAA,I;AADQ;;AAGX,IAAA,iBAAmB,GAAA;aACjB,YAAW,KAAX,QAAA,C;AADiB;;AAtCN;;AAAA;AACb,EAAA,sBAAC,CAAD,QAAA,GAAW,mBAAX;AACA,EAAA,sBAAC,CAAD,MAAA,GAAS,oBAAT;AACA,EAAA,sBAAC,CAAD,OAAA,GAAU,CAAA,IAAA,EAAA,SAAA,CAAV;;CAHmB,C,IAAA,C,IAAA,CAArB","sourcesContent":["import BaseModel from '@/shared/record_store/base_model'\nimport AppConfig from '@/shared/services/app_config'\nimport { capitalize } from 'lodash'\n\nexport default class MembershipRequestModel extends BaseModel\n  @singular: 'membershipRequest'\n  @plural: 'membershipRequests'\n  @indices: ['id', 'groupId']\n\n  defaultValues: ->\n    introduction: null\n    groupId: null\n\n  relationships: ->\n    @belongsTo 'group'\n    @belongsTo 'requestor', from: 'users'\n    @belongsTo 'responder', from: 'users'\n\n  afterConstruction: ->\n    name = @name || @email || ''\n    @fakeUser =\n      name: name\n      email: @email\n      avatarKind: 'initials'\n      constructor: {singular: 'user'}\n      avatarInitials: name.split(' ').map((t) -> t[0]).join('')\n\n  nameAndEmail: ->\n    if @actor().email\n      \"#{@actor().name} <#{@actor().email}>\"\n    else\n      @actor().name\n\n  actor: ->\n    if @byExistingUser() then @requestor() else @fakeUser\n\n  byExistingUser: ->\n    @requestorId?\n\n  isPending: ->\n    !@respondedAt?\n\n  formattedResponse: ->\n    capitalize(@response)\n"],"sourceRoot":""}]}