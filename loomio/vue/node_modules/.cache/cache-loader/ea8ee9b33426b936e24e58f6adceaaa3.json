{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!/home/gustavo/Documents/tese/loomio/vue/src/components/demos/index.vue?vue&type=script&lang=coffee&","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/components/demos/index.vue","mtime":1706724415800},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js","mtime":1706724499784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF1dGhNb2RhbE1peGluIGZyb20gJ0AvbWl4aW5zL2F1dGhfbW9kYWwnOwppbXBvcnQgQXBwQ29uZmlnIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2FwcF9jb25maWcnOwppbXBvcnQgUmVjb3JkcyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9yZWNvcmRzJzsKaW1wb3J0IFNlc3Npb24gZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvc2Vzc2lvbic7CmltcG9ydCBFdmVudEJ1cyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9ldmVudF9idXMnOwppbXBvcnQgRmxhc2ggZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvZmxhc2gnOwppbXBvcnQgQWJpbGl0eVNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvYWJpbGl0eV9zZXJ2aWNlJzsKaW1wb3J0IFJlY29yZExvYWRlciBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9yZWNvcmRfbG9hZGVyJzsKaW1wb3J0IHsgc3ViRGF5cywgYWRkRGF5cywgc3ViV2Vla3MsIHN1Yk1vbnRocyB9IGZyb20gJ2RhdGUtZm5zJzsKaW1wb3J0IFBsYXVzaWJsZVNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvcGxhdXNpYmxlX3NlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbQXV0aE1vZGFsTWl4aW5dLAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHRlbXBsYXRlczogW10sCiAgICAgIGxvYWRlZDogZmFsc2UsCiAgICAgIHByb2Nlc3Npbmc6IGZhbHNlLAogICAgICB0cmlhbHM6IEFwcENvbmZpZy5mZWF0dXJlcy5hcHAudHJpYWxzCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIEV2ZW50QnVzLiRvbignc2lnbmVkSW4nLCB0aGlzLmluaXQpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIEV2ZW50QnVzLiRvZmYoJ3NpZ25lZEluJywgdGhpcy5pbml0KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIEV2ZW50QnVzLiRlbWl0KCdjb250ZW50LXRpdGxlLXZpc2libGUnLCBmYWxzZSk7CiAgICBFdmVudEJ1cy4kZW1pdCgnY3VycmVudENvbXBvbmVudCcsIHsKICAgICAgdGl0bGVLZXk6ICd0ZW1wbGF0ZXMudHJ5X2xvb21pbycsCiAgICAgIHBhZ2U6ICd0aHJlYWRzUGFnZScsCiAgICAgIHNlYXJjaDogewogICAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLiR0KCduYXZiYXIuc2VhcmNoX2FsbF90aHJlYWRzJykKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gdGhpcy5pbml0KCk7CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZS5xdWVyeSc6ICdyZWZyZXNoJwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gKCkgewogICAgICBSZWNvcmRzLmZldGNoKHsKICAgICAgICBwYXRoOiAnZGVtb3MnCiAgICAgIH0pLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGVkID0gdHJ1ZTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0aGlzLndhdGNoUmVjb3Jkcyh7CiAgICAgICAga2V5OiAnZGVtb3NJbmRleCcsCiAgICAgICAgY29sbGVjdGlvbnM6IFsnZGVtb3MnXSwKICAgICAgICBxdWVyeTogKCkgPT4gewogICAgICAgICAgcmV0dXJuIHRoaXMuZGVtb3MgPSBSZWNvcmRzLmRlbW9zLmNvbGxlY3Rpb24uY2hhaW4oKS5maW5kKHsKICAgICAgICAgICAgaWQ6IHsKICAgICAgICAgICAgICAkbmU6IG51bGwKICAgICAgICAgICAgfQogICAgICAgICAgfSkuc2ltcGxlc29ydCgncHJpb3JpdHknLCB0cnVlKS5kYXRhKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdGFydERlbW86IGZ1bmN0aW9uIChpZCkgewogICAgICBpZiAoU2Vzc2lvbi5pc1NpZ25lZEluKCkpIHsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVRlbXBsYXRlKGlkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5vcGVuQXV0aE1vZGFsKCk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9uZVRlbXBsYXRlOiBmdW5jdGlvbiAoaWQpIHsKICAgICAgUGxhdXNpYmxlU2VydmljZS50cmFja0V2ZW50KCdzdGFydF9kZW1vJyk7CiAgICAgIEZsYXNoLndhaXQoJ3RlbXBsYXRlcy5nZW5lcmF0aW5nX2RlbW8nKTsKICAgICAgdGhpcy5wcm9jZXNzaW5nID0gdHJ1ZTsKICAgICAgcmV0dXJuIFJlY29yZHMucG9zdCh7CiAgICAgICAgcGF0aDogJ2RlbW9zL2Nsb25lJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICBGbGFzaC5zdWNjZXNzKCd0ZW1wbGF0ZXMuZGVtb19jcmVhdGVkJyk7CiAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMudXJsRm9yKFJlY29yZHMuZ3JvdXBzLmZpbmQoZGF0YS5ncm91cHNbMF0uaWQpKSk7CiAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/components/demos/index.vue"],"names":[],"mappings":"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","sourcesContent":["\nimport AuthModalMixin      from '@/mixins/auth_modal'\nimport AppConfig          from '@/shared/services/app_config'\nimport Records            from '@/shared/services/records'\nimport Session            from '@/shared/services/session'\nimport EventBus           from '@/shared/services/event_bus'\nimport Flash              from '@/shared/services/flash'\nimport AbilityService     from '@/shared/services/ability_service'\nimport RecordLoader       from '@/shared/services/record_loader'\nimport { capitalize, take, keys, every, orderBy, debounce } from 'lodash'\nimport { subDays, addDays, subWeeks, subMonths } from 'date-fns'\nimport PlausibleService from '@/shared/services/plausible_service'\n\nexport default\n  mixins: [ AuthModalMixin ]\n  data: ->\n    templates: []\n    loaded: false\n    processing: false\n    trials: AppConfig.features.app.trials\n\n  created: ->\n    EventBus.$on 'signedIn', @init\n\n  beforeDestroy: ->\n    EventBus.$off 'signedIn', @init\n\n  mounted: ->\n    EventBus.$emit('content-title-visible', false)\n    EventBus.$emit 'currentComponent',\n      titleKey: 'templates.try_loomio'\n      page: 'threadsPage'\n      search:\n        placeholder: @$t('navbar.search_all_threads')\n    @init()\n\n  watch:\n    '$route.query': 'refresh'\n\n  methods:\n    init: ->\n      Records.fetch(path: 'demos').then (data) =>\n        @loaded = true\n\n      @watchRecords\n        key: 'demosIndex'\n        collections: ['demos']\n        query: =>\n          @demos = Records.demos.collection.chain().find(id: {$ne: null}).simplesort('priority', true).data()\n\n    startDemo: (id) ->\n      if Session.isSignedIn()\n        @cloneTemplate(id)\n      else\n        @openAuthModal()\n\n    cloneTemplate: (id) ->\n      PlausibleService.trackEvent('start_demo')\n      Flash.wait('templates.generating_demo')\n      @processing = true\n      Records.post\n        path: 'demos/clone'\n        params:\n          id: id\n      .then (data) =>\n        Flash.success('templates.demo_created')\n        @$router.push @urlFor(Records.groups.find(data.groups[0].id))\n      .finally =>\n        @processing = false\n\n"],"sourceRoot":""}]}