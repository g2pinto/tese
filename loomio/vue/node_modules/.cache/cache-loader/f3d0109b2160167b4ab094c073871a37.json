{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!/home/gustavo/Documents/tese/loomio/vue/src/components/group/requests_panel.vue?vue&type=script&lang=coffee&","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/components/group/requests_panel.vue","mtime":1706724415800},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js","mtime":1706724499784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9maWx0ZXIgZnJvbSAibG9kYXNoL2ZpbHRlciI7CmltcG9ydCBfb3JkZXJCeSBmcm9tICJsb2Rhc2gvb3JkZXJCeSI7CmltcG9ydCBSZWNvcmRzIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3JlY29yZHMnOwppbXBvcnQgQWJpbGl0eVNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvYWJpbGl0eV9zZXJ2aWNlJzsKaW1wb3J0IFJlY29yZExvYWRlciBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9yZWNvcmRfbG9hZGVyJzsKaW1wb3J0IFNlc3Npb24gZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvc2Vzc2lvbic7CmltcG9ydCBMbW9VcmxTZXJ2aWNlIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2xtb191cmxfc2VydmljZSc7CmltcG9ydCB7IGV4YWN0LCBhcHByb3hpbWF0ZSB9IGZyb20gJ0Avc2hhcmVkL2hlbHBlcnMvZm9ybWF0X3RpbWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVxdWVzdHM6IFtdLAogICAgICBncm91cDogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBSZWNvcmRzLmdyb3Vwcy5maW5kT3JGZXRjaCh0aGlzLiRyb3V0ZS5wYXJhbXMua2V5KS50aGVuKGdyb3VwID0+IHsKICAgICAgdGhpcy5ncm91cCA9IGdyb3VwOwoKICAgICAgaWYgKEFiaWxpdHlTZXJ2aWNlLmNhbk1hbmFnZU1lbWJlcnNoaXBSZXF1ZXN0cyh0aGlzLmdyb3VwKSkgewogICAgICAgIFJlY29yZHMubWVtYmVyc2hpcFJlcXVlc3RzLmZldGNoUGVuZGluZ0J5R3JvdXAodGhpcy5ncm91cC5rZXksIHsKICAgICAgICAgIHBlcjogMTAwCiAgICAgICAgfSk7CiAgICAgICAgUmVjb3Jkcy5tZW1iZXJzaGlwUmVxdWVzdHMuZmV0Y2hQcmV2aW91c0J5R3JvdXAodGhpcy5ncm91cC5rZXksIHsKICAgICAgICAgIHBlcjogMTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMud2F0Y2hSZWNvcmRzKHsKICAgICAgICAgIGNvbGxlY3Rpb25zOiBbJ21lbWJlcnNoaXBSZXF1ZXN0cyddLAogICAgICAgICAgcXVlcnk6IHN0b3JlID0+IHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdHMgPSB0aGlzLmdyb3VwLm1lbWJlcnNoaXBSZXF1ZXN0cygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1bmFwcHJvdmVkUmVxdWVzdHNCeU9sZGVzdEZpcnN0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB1bmFwcHJvdmVkOwogICAgICB1bmFwcHJvdmVkID0gX2ZpbHRlcih0aGlzLnJlcXVlc3RzLCBmdW5jdGlvbiAocmVxdWVzdCkgewogICAgICAgIHJldHVybiAhcmVxdWVzdC5yZXNwb25kZWRBdDsKICAgICAgfSk7CiAgICAgIHJldHVybiBfb3JkZXJCeSh1bmFwcHJvdmVkLCBbJ2NyZWF0ZWRBdCddLCBbJ2FzYyddKTsKICAgIH0sCiAgICBhcHByb3ZlZFJlcXVlc3RzQnlOZXdlc3RGaXJzdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgYXBwcm92ZWQ7CiAgICAgIGFwcHJvdmVkID0gX2ZpbHRlcih0aGlzLnJlcXVlc3RzLCBmdW5jdGlvbiAocmVxdWVzdCkgewogICAgICAgIHJldHVybiByZXF1ZXN0LnJlc3BvbmRlZEF0OwogICAgICB9KTsKICAgICAgcmV0dXJuIF9vcmRlckJ5KGFwcHJvdmVkLCBbJ3Jlc3BvbmRlZEF0J10sIFsnZGVzYyddKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/components/group/requests_panel.vue"],"names":[],"mappings":";;AACA,OAAA,OAAA,MAAA,2BAAA;AACA,OAAA,cAAA,MAAA,mCAAA;AACA,OAAA,YAAA,MAAA,iCAAA;AACA,OAAA,OAAA,MAAA,2BAAA;AAEA,OAAA,aAAA,MAAA,mCAAA;AACA,SAAA,KAAA,EAAA,WAAA,QAAA,8BAAA;AAEA,eACE;AAAA,EAAA,IAAA,EAAM,YAAA;WACJ;AAAA,MAAA,QAAA,EAAA,EAAA;AACA,MAAA,KAAA,EAAO;AADP,K;AADF,GAAA;AAIA,EAAA,OAAA,EAAS,YAAA;WACP,OAAO,CAAC,MAAR,CAAA,WAAA,CAA2B,KAAC,MAAD,CAAQ,MAAR,CAA3B,GAAA,EAAA,IAAA,CAAoD,KAAA,IAAA;AAClD,WAAA,KAAA,GAAS,KAAT;;AAEA,UAAG,cAAc,CAAd,2BAAA,CAA2C,KAA9C,KAAG,CAAH,EAAA;AACE,QAAA,OAAO,CAAC,kBAAR,CAAA,mBAAA,CAA+C,KAAC,KAAD,CAA/C,GAAA,EAA2D;AAAA,UAAA,GAAA,EAAK;AAAL,SAA3D;AACA,QAAA,OAAO,CAAC,kBAAR,CAAA,oBAAA,CAAgD,KAAC,KAAD,CAAhD,GAAA,EAA4D;AAAA,UAAA,GAAA,EAAK;AAAL,SAA5D;eACA,KAAA,YAAA,CACE;AAAA,UAAA,WAAA,EAAa,CAAb,oBAAa,CAAb;AACA,UAAA,KAAA,EAAO,KAAA,IAAA;mBACL,KAAA,QAAA,GAAY,KAAC,KAAD,CAAA,kBAAA,E;AADP;AADP,SADF,C;;AANJ,KAAA,C;AALF,GAAA;AAgBA,EAAA,QAAA,EACE;AAAA,IAAA,+BAAA,EAAiC,YAAA;AACrC,UAAA,UAAA;AAAM,MAAA,UAAA,GAAa,QAAO,KAAP,QAAA,EAAkB,UAAA,OAAA,EAAA;eAAa,CAAC,OAAO,CAAC,W;AAAxC,OAAA,CAAb;aACA,SAAA,UAAA,EAAoB,CAApB,WAAoB,CAApB,EAAmC,CAAnC,KAAmC,CAAnC,C;AAFF,KAAA;AAIA,IAAA,6BAAA,EAA+B,YAAA;AACnC,UAAA,QAAA;AAAM,MAAA,QAAA,GAAW,QAAO,KAAP,QAAA,EAAkB,UAAA,OAAA,EAAA;eAAa,OAAO,CAAC,W;AAAvC,OAAA,CAAX;aACA,SAAA,QAAA,EAAkB,CAAlB,aAAkB,CAAlB,EAAmC,CAAnC,MAAmC,CAAnC,C;AAF6B;AAJ/B;AAjBF,CADF","sourcesContent":["\nimport Records        from '@/shared/services/records'\nimport AbilityService from '@/shared/services/ability_service'\nimport RecordLoader   from '@/shared/services/record_loader'\nimport Session        from '@/shared/services/session'\nimport {includes, some, compact, intersection, orderBy, slice, filter, isEmpty} from 'lodash'\nimport LmoUrlService from '@/shared/services/lmo_url_service'\nimport { exact, approximate } from '@/shared/helpers/format_time'\n\nexport default\n  data: ->\n    requests: []\n    group: null\n\n  created: ->\n    Records.groups.findOrFetch(@$route.params.key).then (group) =>\n      @group = group\n\n      if AbilityService.canManageMembershipRequests(@group)\n        Records.membershipRequests.fetchPendingByGroup(@group.key, per: 100)\n        Records.membershipRequests.fetchPreviousByGroup(@group.key, per: 100)\n        @watchRecords\n          collections: ['membershipRequests']\n          query: (store) =>\n            @requests = @group.membershipRequests()\n\n  computed:\n    unapprovedRequestsByOldestFirst: ->\n      unapproved = filter @requests, (request) -> !request.respondedAt\n      orderBy unapproved, ['createdAt'], ['asc']\n\n    approvedRequestsByNewestFirst: ->\n      approved = filter @requests, (request) -> request.respondedAt\n      orderBy approved, ['respondedAt'], ['desc']\n\n"],"sourceRoot":""}]}