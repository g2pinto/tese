{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/src/shared/record_store/utils.coffee","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/shared/record_store/utils.coffee","mtime":1706724415812},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pc0FycmF5IGZyb20gImxvZGFzaC9pc0FycmF5IjsKaW1wb3J0IF9jYW1lbENhc2UgZnJvbSAibG9kYXNoL2NhbWVsQ2FzZSI7CmltcG9ydCBfbWFwIGZyb20gImxvZGFzaC9tYXAiOwppbXBvcnQgX2tleXMgZnJvbSAibG9kYXNoL2tleXMiOwppbXBvcnQgX2VhY2ggZnJvbSAibG9kYXNoL2VhY2giOwp2YXIgVXRpbHMsIGlzVGltZUF0dHJpYnV0ZSwgdHJhbnNmb3JtS2V5czsKaW1wb3J0IHBhcnNlSVNPIGZyb20gJ2RhdGUtZm5zL3BhcnNlSVNPJzsKCnRyYW5zZm9ybUtleXMgPSBmdW5jdGlvbiAoYXR0cmlidXRlcywgdHJhbnNmb3JtRm4pIHsKICB2YXIgcmVzdWx0OwogIHJlc3VsdCA9IHt9OwoKICBfZWFjaChfa2V5cyhhdHRyaWJ1dGVzKSwgZnVuY3Rpb24gKGtleSkgewogICAgcmVzdWx0W3RyYW5zZm9ybUZuKGtleSldID0gYXR0cmlidXRlc1trZXldOwogICAgcmV0dXJuIHRydWU7CiAgfSk7CgogIHJldHVybiByZXN1bHQ7Cn07Cgppc1RpbWVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkgewogIHJldHVybiAvQXQkLy50ZXN0KGF0dHJpYnV0ZU5hbWUpOwp9OwoKZXhwb3J0IGRlZmF1bHQgbmV3IChVdGlscyA9IGNsYXNzIFV0aWxzIHsKICBkZXNlcmlhbGl6ZShqc29uKSB7CiAgICB2YXIgYXR0cmlidXRlcywgcmVzdWx0OwogICAgcmVzdWx0ID0ge307CiAgICBhdHRyaWJ1dGVzID0gdHJhbnNmb3JtS2V5cyhqc29uLCBfY2FtZWxDYXNlKTsKCiAgICBfZWFjaChfa2V5cyhhdHRyaWJ1dGVzKSwgbmFtZSA9PiB7CiAgICAgIGlmIChfaXNBcnJheShhdHRyaWJ1dGVzW25hbWVdKSkgewogICAgICAgIHJldHVybiByZXN1bHRbbmFtZV0gPSBfbWFwKGF0dHJpYnV0ZXNbbmFtZV0sIHRoaXMucGFyc2VKU09OKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gcmVzdWx0W25hbWVdID0gYXR0cmlidXRlc1tuYW1lXTsKICAgICAgfQogICAgfSk7CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIHBhcnNlSlNPTihqc29uKSB7CiAgICAvLyBwYXJzZSBhIHNpbmdsZSByZWNvcmQKICAgIHZhciBhdHRyaWJ1dGVzOwogICAgYXR0cmlidXRlcyA9IHRyYW5zZm9ybUtleXMoanNvbiwgX2NhbWVsQ2FzZSk7CgogICAgX2VhY2goX2tleXMoYXR0cmlidXRlcyksIGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIGlmIChhdHRyaWJ1dGVzW25hbWVdICE9IG51bGwpIHsKICAgICAgICBpZiAoaXNUaW1lQXR0cmlidXRlKG5hbWUpKSB7CiAgICAgICAgICBhdHRyaWJ1dGVzW25hbWVdID0gcGFyc2VJU08oYXR0cmlidXRlc1tuYW1lXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGF0dHJpYnV0ZXNbbmFtZV0gPSBhdHRyaWJ1dGVzW25hbWVdOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKCiAgICByZXR1cm4gYXR0cmlidXRlczsKICB9CgogIGlzVGltZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSB7CiAgICByZXR1cm4gaXNUaW1lQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpOwogIH0KCn0pKCk7"},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/shared/record_store/utils.coffee"],"names":[],"mappings":";;;;;AAAA,IAAA,KAAA,EAAA,eAAA,EAAA,aAAA;AAAA,OAAA,QAAA,MAAA,mBAAA;;AAGA,aAAA,GAAgB,UAAA,UAAA,EAAA,WAAA,EAAA;AAChB,MAAA,MAAA;AAAE,EAAA,MAAA,GAAS,EAAT;;AACA,QAAK,MAAL,UAAK,CAAL,EAAuB,UAAA,GAAA,EAAA;AACrB,IAAA,MAAM,CAAC,WAAA,CAAP,GAAO,CAAD,CAAN,GAA2B,UAAU,CAAA,GAAA,CAArC;WACA,I;AAFF,GAAA;;SAGA,M;AALc,CAAhB;;AAOA,eAAA,GAAkB,UAAA,aAAA,EAAA;SAChB,MAAA,IAAA,CAAA,aAAA,C;AADgB,CAAlB;;AAGA,eAAe,KAAU,KAAA,GAAN,MAAA,KAAA,CAAA;AACjB,EAAA,WAAa,CAAA,IAAA,EAAA;AACf,QAAA,UAAA,EAAA,MAAA;AAAI,IAAA,MAAA,GAAS,EAAT;AACA,IAAA,UAAA,GAAa,aAAA,CAAA,IAAA,aAAb;;AACA,UAAK,MAAL,UAAK,CAAL,EAAuB,IAAA,IAAA;AACrB,UAAG,SAAQ,UAAU,CAArB,IAAqB,CAAlB,CAAH,EAAA;eACE,MAAM,CAAN,IAAM,CAAN,GAAe,KAAI,UAAU,CAAd,IAAc,CAAd,EAAsB,KADvC,SACiB,C;AADjB,OAAA,MAAA;eAGE,MAAM,CAAN,IAAM,CAAN,GAAe,UAAU,CAH3B,IAG2B,C;;AAJ7B,KAAA;;WAKA,M;AARW;;AAUb,EAAA,SAAW,CAAA,IAAA,EAAA;AAAA;AACb,QAAA,UAAA;AAAI,IAAA,UAAA,GAAa,aAAA,CAAA,IAAA,aAAb;;AACA,UAAK,MAAL,UAAK,CAAL,EAAuB,UAAA,IAAA,EAAA;AACrB,UAAG,UAAA,CAAA,IAAA,CAAA,IAAH,IAAA,EAAA;AACE,YAAG,eAAA,CAAH,IAAG,CAAH,EAAA;AACE,UAAA,UAAU,CAAV,IAAU,CAAV,GAAmB,QAAA,CAAS,UAAU,CADxC,IACwC,CAAnB,CAAnB;AADF,SAAA,MAAA;AAGE,UAAA,UAAU,CAAV,IAAU,CAAV,GAAmB,UAAU,CAH/B,IAG+B,CAA7B;AAJJ;;;aAKA,I;AANF,KAAA;;WAOA,U;AATS;;AAWX,EAAA,eAAiB,CAAA,aAAA,EAAA;WACf,eAAA,CAAA,aAAA,C;AADe;;AAtBA,CAAJ,GAAf","sourcesContent":["import parseISO from 'date-fns/parseISO'\nimport { each, keys, map, camelCase, isArray} from 'lodash'\n\ntransformKeys = (attributes, transformFn) ->\n  result = {}\n  each keys(attributes), (key) ->\n    result[transformFn(key)] = attributes[key]\n    true\n  result\n\nisTimeAttribute = (attributeName) ->\n  /At$/.test(attributeName)\n\nexport default new class Utils\n  deserialize: (json) ->\n    result = {}\n    attributes = transformKeys(json, camelCase)\n    each keys(attributes), (name) =>\n      if isArray(attributes[name])\n        result[name] = map(attributes[name], @parseJSON)\n      else\n        result[name] = attributes[name]\n    result\n\n  parseJSON: (json) -> # parse a single record\n    attributes = transformKeys(json, camelCase)\n    each keys(attributes), (name) ->\n      if attributes[name]?\n        if isTimeAttribute(name)\n          attributes[name] = parseISO(attributes[name])\n        else\n          attributes[name] = attributes[name]\n      true\n    attributes\n\n  isTimeAttribute: (attributeName) ->\n    isTimeAttribute(attributeName)\n"],"sourceRoot":""}]}