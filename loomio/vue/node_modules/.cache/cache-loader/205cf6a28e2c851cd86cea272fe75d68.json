{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/src/shared/models/outcome_model.coffee","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/shared/models/outcome_model.coffee","mtime":1706724415808},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jYXBpdGFsaXplIGZyb20gImxvZGFzaC9jYXBpdGFsaXplIjsKdmFyIE91dGNvbWVNb2RlbDsKaW1wb3J0IEJhc2VNb2RlbCBmcm9tICdAL3NoYXJlZC9yZWNvcmRfc3RvcmUvYmFzZV9tb2RlbCc7CmltcG9ydCBBcHBDb25maWcgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvYXBwX2NvbmZpZyc7CmltcG9ydCBIYXNEb2N1bWVudHMgZnJvbSAnQC9zaGFyZWQvbWl4aW5zL2hhc19kb2N1bWVudHMnOwppbXBvcnQgSGFzVHJhbnNsYXRpb25zIGZyb20gJ0Avc2hhcmVkL21peGlucy9oYXNfdHJhbnNsYXRpb25zJzsKaW1wb3J0IE51bGxHcm91cE1vZGVsIGZyb20gJ0Avc2hhcmVkL21vZGVscy9udWxsX2dyb3VwX21vZGVsJzsKZXhwb3J0IGRlZmF1bHQgT3V0Y29tZU1vZGVsID0gZnVuY3Rpb24gKCkgewogIGNsYXNzIE91dGNvbWVNb2RlbCBleHRlbmRzIEJhc2VNb2RlbCB7CiAgICBkZWZhdWx0VmFsdWVzKCkgewogICAgICByZXR1cm4gewogICAgICAgIHN0YXRlbWVudDogJycsCiAgICAgICAgc3RhdGVtZW50Rm9ybWF0OiAnaHRtbCcsCiAgICAgICAgY2FsZW5kYXJJbnZpdGU6IGZhbHNlLAogICAgICAgIGV2ZW50U3VtbWFyeTogbnVsbCwKICAgICAgICBldmVudERlc2NyaXB0aW9uOiBudWxsLAogICAgICAgIGluY2x1ZGVBY3RvcjogZmFsc2UsCiAgICAgICAgZmlsZXM6IFtdLAogICAgICAgIGltYWdlRmlsZXM6IFtdLAogICAgICAgIGF0dGFjaG1lbnRzOiBbXSwKICAgICAgICBsaW5rUHJldmlld3M6IFtdLAogICAgICAgIHJlY2lwaWVudFVzZXJJZHM6IFtdLAogICAgICAgIHJlY2lwaWVudENoYXRib3RJZHM6IFtdLAogICAgICAgIHJlY2lwaWVudEVtYWlsczogW10sCiAgICAgICAgcmVjaXBpZW50QXVkaWVuY2U6IG51bGwsCiAgICAgICAgbm90aWZ5UmVjaXBpZW50czogdHJ1ZSwKICAgICAgICBncm91cElkOiBudWxsLAogICAgICAgIHJldmlld09uOiBudWxsCiAgICAgIH07CiAgICB9CgogICAgYWZ0ZXJDb25zdHJ1Y3Rpb24oKSB7CiAgICAgIEhhc0RvY3VtZW50cy5hcHBseSh0aGlzKTsKICAgICAgcmV0dXJuIEhhc1RyYW5zbGF0aW9ucy5hcHBseSh0aGlzKTsKICAgIH0KCiAgICByZWxhdGlvbnNoaXBzKCkgewogICAgICB0aGlzLmJlbG9uZ3NUbygnYXV0aG9yJywgewogICAgICAgIGZyb206ICd1c2VycycKICAgICAgfSk7CiAgICAgIHRoaXMuYmVsb25nc1RvKCdwb2xsJyk7CiAgICAgIHRoaXMuYmVsb25nc1RvKCdncm91cCcpOwogICAgICByZXR1cm4gdGhpcy5iZWxvbmdzVG8oJ3BvbGxPcHRpb24nKTsKICAgIH0KCiAgICByZWFjdGlvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLnJlY29yZFN0b3JlLnJlYWN0aW9ucy5maW5kKHsKICAgICAgICByZWFjdGFibGVJZDogdGhpcy5pZCwKICAgICAgICByZWFjdGFibGVUeXBlOiBfY2FwaXRhbGl6ZSh0aGlzLmNvbnN0cnVjdG9yLnNpbmd1bGFyKQogICAgICB9KTsKICAgIH0KCiAgICBhdXRob3JOYW1lKCkgewogICAgICByZXR1cm4gdGhpcy5hdXRob3IoKS5uYW1lV2l0aFRpdGxlKHRoaXMucG9sbCgpLmdyb3VwKCkpOwogICAgfQoKICAgIGlzQmxhbmsoKSB7CiAgICAgIHJldHVybiB0aGlzLnN0YXRlbWVudCA9PT0gJycgfHwgdGhpcy5zdGF0ZW1lbnQgPT09IG51bGwgfHwgdGhpcy5zdGF0ZW1lbnQgPT09ICc8cD48L3A+JzsKICAgIH0KCiAgICBtZW1iZXJzKCkgewogICAgICByZXR1cm4gdGhpcy5wb2xsKCkubWVtYmVycygpOwogICAgfQoKICAgIG1lbWJlcnNJbmNsdWRlKHVzZXIpIHsKICAgICAgcmV0dXJuIHRoaXMucG9sbCgpLm1lbWJlcnNJbmNsdWRlKHVzZXIpOwogICAgfQoKICAgIGFkbWluc0luY2x1ZGUodXNlcikgewogICAgICByZXR1cm4gdGhpcy5wb2xsKCkuYWRtaW5zSW5jbHVkZSh1c2VyKTsKICAgIH0KCiAgICBwYXJ0aWNpcGFudElkcygpIHsKICAgICAgcmV0dXJuIHRoaXMucG9sbCgpLnBhcnRpY2lwYW50SWRzKCk7CiAgICB9CgogICAgbWVtYmVySWRzKCkgewogICAgICByZXR1cm4gdGhpcy5wb2xsKCkubWVtYmVySWRzKCk7CiAgICB9CgogICAgYW5ub3VuY2VtZW50U2l6ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucG9sbCgpLmFubm91bmNlbWVudFNpemUodGhpcy5ub3RpZnlBY3Rpb24oKSk7CiAgICB9CgogICAgZGlzY3Vzc2lvbigpIHsKICAgICAgcmV0dXJuIHRoaXMucG9sbCgpLmRpc2N1c3Npb24oKTsKICAgIH0KCiAgICBub3RpZnlBY3Rpb24oKSB7CiAgICAgIHJldHVybiAncHVibGlzaCc7CiAgICB9CgogICAgYmVzdE5hbWVkSWQoKSB7CiAgICAgIHJldHVybiAodGhpcy5pZCAmJiB0aGlzIHx8IHRoaXMucG9sbElkICYmIHRoaXMucG9sbCgpIHx8IHRoaXMuZ3JvdXBJZCAmJiB0aGlzLmdyb3VwKCkgfHwgewogICAgICAgIG5hbWVkSWQ6IGZ1bmN0aW9uICgpIHt9CiAgICAgIH0pLm5hbWVkSWQoKTsKICAgIH0KCiAgfQoKICA7CiAgT3V0Y29tZU1vZGVsLnNpbmd1bGFyID0gJ291dGNvbWUnOwogIE91dGNvbWVNb2RlbC5wbHVyYWwgPSAnb3V0Y29tZXMnOwogIE91dGNvbWVNb2RlbC5pbmRpY2VzID0gWydwb2xsSWQnLCAnYXV0aG9ySWQnXTsKICBPdXRjb21lTW9kZWwudW5pcXVlSW5kaWNlcyA9IFsnaWQnXTsKICByZXR1cm4gT3V0Y29tZU1vZGVsOwp9LmNhbGwodGhpcyk7"},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/shared/models/outcome_model.coffee"],"names":[],"mappings":"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","sourcesContent":["import BaseModel        from '@/shared/record_store/base_model'\nimport AppConfig        from '@/shared/services/app_config'\nimport HasDocuments     from '@/shared/mixins/has_documents'\nimport HasTranslations  from '@/shared/mixins/has_translations'\nimport NullGroupModel   from '@/shared/models/null_group_model'\nimport {capitalize} from 'lodash'\n\nexport default class OutcomeModel extends BaseModel\n  @singular: 'outcome'\n  @plural: 'outcomes'\n  @indices: ['pollId', 'authorId']\n  @uniqueIndices: ['id']\n\n  defaultValues: ->\n    statement: ''\n    statementFormat: 'html'\n    calendarInvite: false\n    eventSummary: null\n    eventDescription: null\n    includeActor: false\n    files: []\n    imageFiles: []\n    attachments: []\n    linkPreviews: []\n    recipientUserIds: []\n    recipientChatbotIds: []\n    recipientEmails: []\n    recipientAudience: null\n    notifyRecipients: true\n    groupId: null\n    reviewOn: null\n\n  afterConstruction: ->\n    HasDocuments.apply @\n    HasTranslations.apply @\n\n  relationships: ->\n    @belongsTo 'author', from: 'users'\n    @belongsTo 'poll'\n    @belongsTo 'group'\n    @belongsTo 'pollOption'\n\n  reactions: ->\n    @recordStore.reactions.find\n      reactableId: @id\n      reactableType: capitalize(@constructor.singular)\n\n  authorName: ->\n    @author().nameWithTitle(@poll().group())\n\n  isBlank: ->\n    @statement == '' or @statement == null or @statement == '<p></p>'\n\n  members: ->\n    @poll().members()\n\n  membersInclude: (user) ->\n    @poll().membersInclude(user)\n\n  adminsInclude: (user) ->\n    @poll().adminsInclude(user)\n\n  participantIds: ->\n    @poll().participantIds()\n\n  memberIds: ->\n    @poll().memberIds()\n\n  announcementSize: ->\n    @poll().announcementSize @notifyAction()\n\n  discussion: ->\n    @poll().discussion()\n\n  notifyAction: ->\n    'publish'\n\n  bestNamedId: ->\n    ((@id && @) || (@pollId && @poll()) || (@groupId && @group()) || {namedId: ->}).namedId()\n"],"sourceRoot":""}]}