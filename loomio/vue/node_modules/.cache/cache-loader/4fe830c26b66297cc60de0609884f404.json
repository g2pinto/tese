{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!/home/gustavo/Documents/tese/loomio/vue/src/components/group/members_panel.vue?vue&type=script&lang=coffee&","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/components/group/members_panel.vue","mtime":1706724415800},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js","mtime":1706724499784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9tYXAgZnJvbSAibG9kYXNoL21hcCI7CmltcG9ydCBfZGVib3VuY2UgZnJvbSAibG9kYXNoL2RlYm91bmNlIjsKaW1wb3J0IF9pbnRlcnNlY3Rpb24gZnJvbSAibG9kYXNoL2ludGVyc2VjdGlvbiI7CmltcG9ydCBSZWNvcmRzIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3JlY29yZHMnOwppbXBvcnQgQWJpbGl0eVNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvYWJpbGl0eV9zZXJ2aWNlJzsKaW1wb3J0IFJlY29yZExvYWRlciBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9yZWNvcmRfbG9hZGVyJzsKaW1wb3J0IFNlc3Npb24gZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvc2Vzc2lvbic7CmltcG9ydCBFdmVudEJ1cyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9ldmVudF9idXMnOwppbXBvcnQgTG1vVXJsU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9sbW9fdXJsX3NlcnZpY2UnOwppbXBvcnQgeyBleGFjdCwgYXBwcm94aW1hdGUgfSBmcm9tICdAL3NoYXJlZC9oZWxwZXJzL2Zvcm1hdF90aW1lJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRlcjogbnVsbCwKICAgICAgZ3JvdXA6IG51bGwsCiAgICAgIHBlcjogMjUsCiAgICAgIG9yZGVyOiAnY3JlYXRlZF9hdCBkZXNjJywKICAgICAgb3JkZXJzOiBbewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ21lbWJlcnNfcGFuZWwub3JkZXJfYnlfbmFtZScpLAogICAgICAgIHZhbHVlOiAndXNlcnMubmFtZScKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ21lbWJlcnNfcGFuZWwub3JkZXJfYnlfY3JlYXRlZCcpLAogICAgICAgIHZhbHVlOiAnbWVtYmVyc2hpcHMuY3JlYXRlZF9hdCcKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ21lbWJlcnNfcGFuZWwub3JkZXJfYnlfY3JlYXRlZF9kZXNjJyksCiAgICAgICAgdmFsdWU6ICdtZW1iZXJzaGlwcy5jcmVhdGVkX2F0IGRlc2MnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdtZW1iZXJzX3BhbmVsLm9yZGVyX2J5X2FkbWluX2Rlc2MnKSwKICAgICAgICB2YWx1ZTogJ2FkbWluIGRlc2MnCiAgICAgIH1dLAogICAgICBtZW1iZXJzaGlwczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLm9uUXVlcnlJbnB1dCA9IF9kZWJvdW5jZSh2YWwgPT4gewogICAgICByZXR1cm4gdGhpcy4kcm91dGVyLnJlcGxhY2UodGhpcy5tZXJnZVF1ZXJ5KHsKICAgICAgICBxOiB2YWwKICAgICAgfSkpOwogICAgfSwgNTAwKTsKICAgIHJldHVybiBSZWNvcmRzLmdyb3Vwcy5maW5kT3JGZXRjaCh0aGlzLiRyb3V0ZS5wYXJhbXMua2V5KS50aGVuKGdyb3VwID0+IHsKICAgICAgdGhpcy5ncm91cCA9IGdyb3VwOwogICAgICBFdmVudEJ1cy4kZW1pdCgnY3VycmVudENvbXBvbmVudCcsIHsKICAgICAgICBwYWdlOiAnZ3JvdXBQYWdlJywKICAgICAgICB0aXRsZTogdGhpcy5ncm91cC5uYW1lLAogICAgICAgIGdyb3VwOiB0aGlzLmdyb3VwLAogICAgICAgIHNlYXJjaDogewogICAgICAgICAgcGxhY2Vob2xkZXI6IHRoaXMuJHQoJ25hdmJhci5zZWFyY2hfbWVtYmVycycsIHsKICAgICAgICAgICAgbmFtZTogdGhpcy5ncm91cC5wYXJlbnRPclNlbGYoKS5uYW1lCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMubG9hZGVyID0gbmV3IFJlY29yZExvYWRlcih7CiAgICAgICAgY29sbGVjdGlvbjogJ21lbWJlcnNoaXBzJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGV4Y2x1ZGVfdHlwZXM6ICdncm91cCcsCiAgICAgICAgICBncm91cF9pZDogdGhpcy5ncm91cC5pZCwKICAgICAgICAgIHBlcjogdGhpcy5wZXIsCiAgICAgICAgICBvcmRlcjogdGhpcy5vcmRlciwKICAgICAgICAgIHN1Ymdyb3VwczogdGhpcy4kcm91dGUucXVlcnkuc3ViZ3JvdXBzCiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy53YXRjaFJlY29yZHMoewogICAgICAgIGNvbGxlY3Rpb25zOiBbJ21lbWJlcnNoaXBzJywgJ2dyb3VwcyddLAogICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5CiAgICAgIH0pOwogICAgICByZXR1cm4gdGhpcy5yZWZyZXNoKCk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGV4YWN0OiBleGFjdCwKICAgIGFwcHJveGltYXRlOiBhcHByb3hpbWF0ZSwKICAgIHF1ZXJ5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjaGFpbiwgbWVtYmVyc2hpcElkcywgdXNlcklkcywgdXNlcnM7CiAgICAgIGNoYWluID0gUmVjb3Jkcy5tZW1iZXJzaGlwcy5jb2xsZWN0aW9uLmNoYWluKCk7CgogICAgICBzd2l0Y2ggKHRoaXMuJHJvdXRlLnF1ZXJ5LnN1Ymdyb3VwcykgewogICAgICAgIGNhc2UgJ21pbmUnOgogICAgICAgICAgY2hhaW4gPSBjaGFpbi5maW5kKHsKICAgICAgICAgICAgZ3JvdXBJZDogewogICAgICAgICAgICAgICRpbjogX2ludGVyc2VjdGlvbih0aGlzLmdyb3VwLm9yZ2FuaXNhdGlvbklkcygpLCBTZXNzaW9uLnVzZXIoKS5ncm91cElkcygpKQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdhbGwnOgogICAgICAgICAgY2hhaW4gPSBjaGFpbi5maW5kKHsKICAgICAgICAgICAgZ3JvdXBJZDogewogICAgICAgICAgICAgICRpbjogdGhpcy5ncm91cC5vcmdhbmlzYXRpb25JZHMoKQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgY2hhaW4gPSBjaGFpbi5maW5kKHsKICAgICAgICAgICAgZ3JvdXBJZDogdGhpcy5ncm91cC5pZAogICAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGNoYWluID0gY2hhaW4uc29ydCgoYSwgYikgPT4gewogICAgICAgIGlmIChhLmdyb3VwSWQgPT09IHRoaXMuZ3JvdXAuaWQpIHsKICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9CgogICAgICAgIGlmIChiLmdyb3VwSWQgPT09IHRoaXMuZ3JvdXAuaWQpIHsKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0pOwogICAgICB1c2VySWRzID0gW107CiAgICAgIG1lbWJlcnNoaXBJZHMgPSBbXTsKICAgICAgY2hhaW4uZGF0YSgpLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICBpZiAoIXVzZXJJZHMuaW5jbHVkZXMobS51c2VySWQpKSB7CiAgICAgICAgICB1c2VySWRzLnB1c2gobS51c2VySWQpOwogICAgICAgICAgcmV0dXJuIG1lbWJlcnNoaXBJZHMucHVzaChtLmlkKTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBAbWVtYmVyc2hpcHMgPSBSZWNvcmRzLm1lbWJlcnNoaXBzLmNvbGxlY3Rpb24uZmluZChpZDogeyRpbjogbWVtYmVyc2hpcElkc30pCiAgICAgIC8vIGRyb3AgdGhlIGNoYWluLCBnZXQgYSBuZXcgb25lCgogICAgICBjaGFpbiA9IFJlY29yZHMubWVtYmVyc2hpcHMuY29sbGVjdGlvbi5jaGFpbigpLmZpbmQoewogICAgICAgIGlkOiB7CiAgICAgICAgICAkaW46IG1lbWJlcnNoaXBJZHMKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnEpIHsKICAgICAgICB1c2VycyA9IFJlY29yZHMudXNlcnMuY29sbGVjdGlvbi5maW5kKHsKICAgICAgICAgICRvcjogW3sKICAgICAgICAgICAgbmFtZTogewogICAgICAgICAgICAgICckcmVnZXgnOiBbYF4ke3RoaXMuJHJvdXRlLnF1ZXJ5LnF9YCwgImkiXQogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGVtYWlsOiB7CiAgICAgICAgICAgICAgJyRyZWdleCc6IFtgJHt0aGlzLiRyb3V0ZS5xdWVyeS5xfWAsICJpIl0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgewogICAgICAgICAgICB1c2VybmFtZTogewogICAgICAgICAgICAgICckcmVnZXgnOiBbYF4ke3RoaXMuJHJvdXRlLnF1ZXJ5LnF9YCwgImkiXQogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAnJHJlZ2V4JzogW2AgJHt0aGlzLiRyb3V0ZS5xdWVyeS5xfWAsICJpIl0KICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9KTsKICAgICAgICBjaGFpbiA9IGNoYWluLmZpbmQoewogICAgICAgICAgdXNlcklkOiB7CiAgICAgICAgICAgICRpbjogX21hcCh1c2VycywgJ2lkJykKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgc3dpdGNoICh0aGlzLiRyb3V0ZS5xdWVyeS5maWx0ZXIpIHsKICAgICAgICBjYXNlICdhZG1pbic6CiAgICAgICAgICBjaGFpbiA9IGNoYWluLmZpbmQoewogICAgICAgICAgICBhZG1pbjogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnYWNjZXB0ZWQnOgogICAgICAgICAgY2hhaW4gPSBjaGFpbi5maW5kKHsKICAgICAgICAgICAgYWNjZXB0ZWRBdDogewogICAgICAgICAgICAgICRuZTogbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdwZW5kaW5nJzoKICAgICAgICAgIGNoYWluID0gY2hhaW4uZmluZCh7CiAgICAgICAgICAgIGFjY2VwdGVkQXQ6IG51bGwKICAgICAgICAgIH0pOwogICAgICB9CgogICAgICBjaGFpbiA9IGNoYWluLnNpbXBsZXNvcnQoJ2lkJywgdHJ1ZSk7CiAgICAgIHJldHVybiB0aGlzLm1lbWJlcnNoaXBzID0gY2hhaW4uZGF0YSgpOwogICAgfSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5sb2FkZXIuZmV0Y2hSZWNvcmRzKHsKICAgICAgICBmcm9tOiAwLAogICAgICAgIHE6IHRoaXMuJHJvdXRlLnF1ZXJ5LnEsCiAgICAgICAgb3JkZXI6IHRoaXMub3JkZXIsCiAgICAgICAgZmlsdGVyOiB0aGlzLiRyb3V0ZS5xdWVyeS5maWx0ZXIsCiAgICAgICAgc3ViZ3JvdXBzOiB0aGlzLiRyb3V0ZS5xdWVyeS5zdWJncm91cHMKICAgICAgfSk7CiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5KCk7CiAgICB9LAogICAgaW52aXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBFdmVudEJ1cy4kZW1pdCgnb3Blbk1vZGFsJywgewogICAgICAgIGNvbXBvbmVudDogJ0dyb3VwSW52aXRhdGlvbkZvcm0nLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBncm91cDogdGhpcy5ncm91cAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbWVtYmVyc2hpcFJlcXVlc3RzUGF0aDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gTG1vVXJsU2VydmljZS5tZW1iZXJzaGlwUmVxdWVzdCh0aGlzLmdyb3VwKTsKICAgIH0sCiAgICBzaG93TG9hZE1vcmU6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICF0aGlzLmxvYWRlci5leGhhdXN0ZWQ7CiAgICB9LAogICAgdG90YWxSZWNvcmRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLnBlbmRpbmcpIHsKICAgICAgICByZXR1cm4gdGhpcy5ncm91cC5wZW5kaW5nTWVtYmVyc2hpcHNDb3VudDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5ncm91cC5tZW1iZXJzaGlwc0NvdW50IC0gdGhpcy5ncm91cC5wZW5kaW5nTWVtYmVyc2hpcHNDb3VudDsKICAgICAgfQogICAgfSwKICAgIGNhbkFkZE1lbWJlcnM6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEFiaWxpdHlTZXJ2aWNlLmNhbkFkZE1lbWJlcnNUb0dyb3VwKHRoaXMuZ3JvdXApICYmICF0aGlzLnBlbmRpbmc7CiAgICB9LAogICAgc2hvd0FkbWluV2FybmluZzogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5ncm91cC5hZG1pbnNJbmNsdWRlKFNlc3Npb24udXNlcigpKSAmJiB0aGlzLmdyb3VwLmFkbWluTWVtYmVyc2hpcHNDb3VudCA8IDIgJiYgdGhpcy5ncm91cC5tZW1iZXJzaGlwc0NvdW50IC0gdGhpcy5ncm91cC5hZG1pbk1lbWJlcnNoaXBzQ291bnQgPiAwOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICckcm91dGUucXVlcnknOiAncmVmcmVzaCcKICB9Cn07"},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/components/group/members_panel.vue"],"names":[],"mappings":"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","sourcesContent":["\nimport Records        from '@/shared/services/records'\nimport AbilityService from '@/shared/services/ability_service'\nimport RecordLoader   from '@/shared/services/record_loader'\nimport Session        from '@/shared/services/session'\nimport EventBus       from '@/shared/services/event_bus'\nimport {includes, some, compact, intersection, orderBy, slice, debounce, min, escapeRegExp, map} from 'lodash'\nimport LmoUrlService from '@/shared/services/lmo_url_service'\nimport { exact, approximate } from '@/shared/helpers/format_time'\n\nexport default\n  data: ->\n    loader: null\n    group: null\n    per: 25\n    order: 'created_at desc'\n    orders: [\n      {text: @$t('members_panel.order_by_name'),  value:'users.name' }\n      {text: @$t('members_panel.order_by_created'), value:'memberships.created_at' }\n      {text: @$t('members_panel.order_by_created_desc'), value:'memberships.created_at desc' }\n      {text: @$t('members_panel.order_by_admin_desc'), value:'admin desc' }\n    ]\n    memberships: []\n\n  created: ->\n    @onQueryInput = debounce (val) =>\n      @$router.replace(@mergeQuery(q: val))\n    , 500\n\n    Records.groups.findOrFetch(@$route.params.key).then (group) =>\n      @group = group\n\n      EventBus.$emit 'currentComponent',\n        page: 'groupPage'\n        title: @group.name\n        group: @group\n        search:\n          placeholder: @$t('navbar.search_members', name: @group.parentOrSelf().name)\n\n      @loader = new RecordLoader\n        collection: 'memberships'\n        params:\n          exclude_types: 'group'\n          group_id: @group.id\n          per: @per\n          order: @order\n          subgroups: @$route.query.subgroups\n\n      @watchRecords\n        collections: ['memberships', 'groups']\n        query: @query\n\n      @refresh()\n\n  methods:\n    exact: exact\n    approximate: approximate\n\n    query: ->\n      chain = Records.memberships.collection.chain()\n      switch @$route.query.subgroups\n        when 'mine'\n          chain = chain.find(groupId: {$in: intersection(@group.organisationIds(), Session.user().groupIds())})\n        when 'all'\n          chain = chain.find(groupId: {$in: @group.organisationIds()})\n        else\n          chain = chain.find(groupId: @group.id)\n\n      chain = chain.sort (a, b) =>\n        return -1 if (a.groupId == @group.id)\n        return 1 if (b.groupId == @group.id)\n        return 0\n\n      userIds = []\n      membershipIds = []\n      chain.data().forEach (m) ->\n        if !userIds.includes(m.userId)\n          userIds.push(m.userId)\n          membershipIds.push(m.id)\n\n      # @memberships = Records.memberships.collection.find(id: {$in: membershipIds})\n\n      # drop the chain, get a new one\n\n      chain = Records.memberships.collection.chain().find(id: {$in: membershipIds})\n\n      if @$route.query.q\n        users = Records.users.collection.find\n          $or: [\n            {name: {'$regex': [\"^#{@$route.query.q}\", \"i\"]}},\n            {email: {'$regex': [\"#{@$route.query.q}\", \"i\"]}},\n            {username: {'$regex': [\"^#{@$route.query.q}\", \"i\"]}},\n            {name: {'$regex': [\" #{@$route.query.q}\", \"i\"]}}\n          ]\n        chain = chain.find(userId: {$in: map(users, 'id')})\n\n      switch @$route.query.filter\n        when 'admin'\n          chain = chain.find(admin: true)\n        when 'accepted'\n          chain = chain.find(acceptedAt: { $ne: null })\n        when 'pending'\n          chain = chain.find(acceptedAt: null)\n\n      chain = chain.simplesort('id', true)\n\n      @memberships = chain.data()\n\n    refresh: ->\n      @loader.fetchRecords\n        from: 0\n        q: @$route.query.q\n        order: @order\n        filter: @$route.query.filter\n        subgroups: @$route.query.subgroups\n      @query()\n\n    invite: ->\n      EventBus.$emit('openModal',\n                      component: 'GroupInvitationForm',\n                      props:\n                        group: @group)\n\n  computed:\n    membershipRequestsPath: -> LmoUrlService.membershipRequest(@group)\n    showLoadMore: -> !@loader.exhausted\n    totalRecords: ->\n      if @pending\n        @group.pendingMembershipsCount\n      else\n        @group.membershipsCount - @group.pendingMembershipsCount\n\n    canAddMembers: ->\n      AbilityService.canAddMembersToGroup(@group) && !@pending\n\n    showAdminWarning: ->\n      @group.adminsInclude(Session.user()) &&\n      @group.adminMembershipsCount < 2 &&\n      (@group.membershipsCount - @group.adminMembershipsCount) > 0\n\n  watch:\n    '$route.query': 'refresh'\n\n\n"],"sourceRoot":""}]}