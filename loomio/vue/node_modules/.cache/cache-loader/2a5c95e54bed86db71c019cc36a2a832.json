{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!/home/gustavo/Documents/tese/loomio/vue/src/app.vue?vue&type=script&lang=coffee&","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/app.vue","mtime":1706724415796},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js","mtime":1706724499784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90cnVuY2F0ZSBmcm9tICJsb2Rhc2gvdHJ1bmNhdGUiOwppbXBvcnQgX2NvbXBhY3QgZnJvbSAibG9kYXNoL2NvbXBhY3QiOwppbXBvcnQgX2VhY2ggZnJvbSAibG9kYXNoL2VhY2giOwppbXBvcnQgQXBwQ29uZmlnIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2FwcF9jb25maWcnOwppbXBvcnQgQXV0aE1vZGFsTWl4aW4gZnJvbSAnQC9taXhpbnMvYXV0aF9tb2RhbCc7CmltcG9ydCBFdmVudEJ1cyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9ldmVudF9idXMnOwppbXBvcnQgQWJpbGl0eVNlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvYWJpbGl0eV9zZXJ2aWNlJzsKaW1wb3J0IFNlc3Npb24gZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvc2Vzc2lvbic7CmltcG9ydCBGbGFzaCBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9mbGFzaCc7CmltcG9ydCBvcGVuTW9kYWwgZnJvbSAnQC9zaGFyZWQvaGVscGVycy9vcGVuX21vZGFsJzsKaW1wb3J0IHsgaW5pdExpdmVVcGRhdGUsIGNsb3NlTGl2ZVVwZGF0ZSB9IGZyb20gJ0Avc2hhcmVkL2hlbHBlcnMvbWVzc2FnZV9idXMnOwppbXBvcnQgQ3VzdG9tQ3NzIGZyb20gJ0AvY29tcG9uZW50cy9jdXN0b21fY3NzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEN1c3RvbUNzcwogIH0sCiAgbWl4aW5zOiBbQXV0aE1vZGFsTWl4aW5dLAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2VFcnJvcjogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5sb2NhbGUpIHsKICAgICAgU2Vzc2lvbi51cGRhdGVMb2NhbGUodGhpcy4kcm91dGUucXVlcnkubG9jYWxlKTsKICAgIH0KCiAgICBpZiAoU2Vzc2lvbi51c2VyKCkuZXhwZXJpZW5jZXMuZGFya01vZGUgIT0gbnVsbCkgewogICAgICB0aGlzLiR2dWV0aWZ5LnRoZW1lLmRhcmsgPSBTZXNzaW9uLnVzZXIoKS5leHBlcmllbmNlc1snZGFya01vZGUnXTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyayA9IHdpbmRvdy5tYXRjaE1lZGlhICYmIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlczsKICAgIH0KCiAgICByZXR1cm4gX2VhY2goQXBwQ29uZmlnLnRoZW1lLnZ1ZXRpZnksICh2YWx1ZSwga2V5KSA9PiB7CiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIHRoaXMuJHZ1ZXRpZnkudGhlbWUudGhlbWVzLmxpZ2h0W2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgdGhpcy4kdnVldGlmeS50aGVtZS50aGVtZXMuZGFya1trZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICBpbml0TGl2ZVVwZGF0ZSgpOwoKICAgIGlmICghU2Vzc2lvbi5pc1NpZ25lZEluKCkgJiYgdGhpcy5zaG91bGRGb3JjZVNpZ25JbigpKSB7CiAgICAgIHRoaXMub3BlbkF1dGhNb2RhbCh0cnVlKTsKICAgIH0KCiAgICBFdmVudEJ1cy4kb24oJ2N1cnJlbnRDb21wb25lbnQnLCB0aGlzLnNldEN1cnJlbnRDb21wb25lbnQpOwogICAgRXZlbnRCdXMuJG9uKCdvcGVuQXV0aE1vZGFsJywgKCkgPT4gewogICAgICByZXR1cm4gdGhpcy5vcGVuQXV0aE1vZGFsKCk7CiAgICB9KTsKICAgIEV2ZW50QnVzLiRvbigncGFnZUVycm9yJywgZXJyb3IgPT4gewogICAgICByZXR1cm4gdGhpcy5wYWdlRXJyb3IgPSBlcnJvcjsKICAgIH0pOwogICAgRXZlbnRCdXMuJG9uKCdzaWduZWRJbicsICgpID0+IHsKICAgICAgcmV0dXJuIHRoaXMucGFnZUVycm9yID0gbnVsbDsKICAgIH0pOwogICAgRXZlbnRCdXMuJG9uKCdWdWVGb3JjZVVwZGF0ZScsICgpID0+IHsKICAgICAgcmV0dXJuIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiZm9yY2V1cGRhdGUiKTsKICAgICAgICByZXR1cm4gdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBpZiAoQXBwQ29uZmlnLmZsYXNoLm5vdGljZSkgewogICAgICByZXR1cm4gRmxhc2guc3VjY2VzcyhBcHBDb25maWcuZmxhc2gubm90aWNlKTsKICAgIH0KICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGNsb3NlTGl2ZVVwZGF0ZSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgICckcm91dGUnOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnBhZ2VFcnJvciA9IG51bGw7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRDdXJyZW50Q29tcG9uZW50OiBmdW5jdGlvbiAob3B0aW9ucykgewogICAgICB2YXIgdGl0bGU7CiAgICAgIHRoaXMucGFnZUVycm9yID0gbnVsbDsKICAgICAgdGl0bGUgPSBfdHJ1bmNhdGUob3B0aW9ucy50aXRsZSB8fCB0aGlzLiR0KG9wdGlvbnMudGl0bGVLZXkpLCB7CiAgICAgICAgbGVuZ3RoOiAzMDAKICAgICAgfSk7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RpdGxlJykudGV4dCA9IF9jb21wYWN0KFt0aXRsZSwgQXBwQ29uZmlnLnRoZW1lLnNpdGVfbmFtZV0pLmpvaW4oJyB8ICcpOwogICAgICBBcHBDb25maWcuY3VycmVudEdyb3VwID0gb3B0aW9ucy5ncm91cDsKICAgICAgQXBwQ29uZmlnLmN1cnJlbnREaXNjdXNzaW9uID0gb3B0aW9ucy5kaXNjdXNzaW9uOwogICAgICByZXR1cm4gQXBwQ29uZmlnLmN1cnJlbnRQb2xsID0gb3B0aW9ucy5wb2xsOwogICAgfSwKICAgIHNob3VsZEZvcmNlU2lnbkluOiBmdW5jdGlvbiAoKSB7CiAgICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5zaWduX2luKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGlmICgoQXBwQ29uZmlnLnBlbmRpbmdJZGVudGl0eSB8fCB7fSkuaWRlbnRpdHlfdHlwZSAhPSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChTZXNzaW9uLmlzU2lnbmVkSW4oKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgc3dpdGNoICh0aGlzLiRyb3V0ZS5wYXRoKSB7CiAgICAgICAgY2FzZSAnL2VtYWlsX3ByZWZlcmVuY2VzJzoKICAgICAgICAgIHJldHVybiBTZXNzaW9uLnVzZXIoKS5yZXN0cmljdGVkID09IG51bGw7CgogICAgICAgIGNhc2UgJy9kYXNoYm9hcmQnOgogICAgICAgIGNhc2UgJy9pbmJveCc6CiAgICAgICAgY2FzZSAnL3Byb2ZpbGUnOgogICAgICAgIGNhc2UgJy9wb2xscyc6CiAgICAgICAgY2FzZSAnL3AvbmV3JzoKICAgICAgICBjYXNlICcvZy9uZXcnOgogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/app.vue"],"names":[],"mappings":"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","sourcesContent":["\nimport AppConfig from '@/shared/services/app_config'\nimport AuthModalMixin from '@/mixins/auth_modal'\nimport EventBus from '@/shared/services/event_bus'\nimport AbilityService from '@/shared/services/ability_service'\nimport Session from '@/shared/services/session'\nimport Flash from '@/shared/services/flash'\nimport { each, compact, truncate } from 'lodash'\nimport openModal from '@/shared/helpers/open_modal'\nimport { initLiveUpdate, closeLiveUpdate } from '@/shared/helpers/message_bus'\nimport CustomCss from '@/components/custom_css'\n\nexport default\n  components: {CustomCss}\n  mixins: [AuthModalMixin]\n  data: ->\n    pageError: null\n\n  created: ->\n    Session.updateLocale(@$route.query.locale) if @$route.query.locale\n\n    if Session.user().experiences.darkMode?\n      @$vuetify.theme.dark = Session.user().experiences['darkMode']\n    else\n      @$vuetify.theme.dark = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)\n\n    each AppConfig.theme.vuetify, (value, key) =>\n      @$vuetify.theme.themes.light[key] = value if value\n      @$vuetify.theme.themes.dark[key] = value if value\n      true\n\n  mounted: ->\n    initLiveUpdate()\n    @openAuthModal(true) if !Session.isSignedIn() && @shouldForceSignIn()\n    EventBus.$on 'currentComponent',     @setCurrentComponent\n    EventBus.$on 'openAuthModal',     => @openAuthModal()\n    EventBus.$on 'pageError', (error) => @pageError = error\n    EventBus.$on 'signedIn',          => @pageError = null\n    EventBus.$on 'VueForceUpdate',    => \n      @$nextTick =>\n        console.log(\"forceupdate\")\n        @$forceUpdate()\n    Flash.success(AppConfig.flash.notice) if AppConfig.flash.notice\n\n  destroyed: ->\n    closeLiveUpdate()\n\n  watch:\n    '$route': ->\n      @pageError = null\n\n  methods:\n    setCurrentComponent: (options) ->\n      @pageError = null\n      title = truncate(options.title or @$t(options.titleKey), {length: 300})\n      document.querySelector('title').text = compact([title, AppConfig.theme.site_name]).join(' | ')\n\n      AppConfig.currentGroup      = options.group\n      AppConfig.currentDiscussion = options.discussion\n      AppConfig.currentPoll       = options.poll\n\n    shouldForceSignIn: (options = {}) ->\n      return true if @$route.query.sign_in\n      return true if (AppConfig.pendingIdentity || {}).identity_type?\n      return false if Session.isSignedIn()\n\n      switch @$route.path\n        when '/email_preferences' then !Session.user().restricted?\n        when '/dashboard',      \\\n             '/inbox',          \\\n             '/profile',        \\\n             '/polls',          \\\n             '/p/new',      \\\n             '/g/new' then true\n\n"],"sourceRoot":""}]}