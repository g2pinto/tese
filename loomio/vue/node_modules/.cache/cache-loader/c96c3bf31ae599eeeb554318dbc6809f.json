{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!/home/gustavo/Documents/tese/loomio/vue/src/components/poll_template/form.vue?vue&type=script&lang=coffee&","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/components/poll_template/form.vue","mtime":1706724415804},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js","mtime":1706724499784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zb21lIGZyb20gImxvZGFzaC9zb21lIjsKaW1wb3J0IF93aXRob3V0IGZyb20gImxvZGFzaC93aXRob3V0IjsKaW1wb3J0IF9jb21wYWN0IGZyb20gImxvZGFzaC9jb21wYWN0IjsKaW1wb3J0IEFwcENvbmZpZyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9hcHBfY29uZmlnJzsKaW1wb3J0IFNlc3Npb24gZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvc2Vzc2lvbic7CmltcG9ydCBGbGFzaCBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9mbGFzaCc7CmltcG9ydCBSZWNvcmRzIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3JlY29yZHMnOwppbXBvcnQgRXZlbnRCdXMgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvZXZlbnRfYnVzJzsKaW1wb3J0IEFiaWxpdHlTZXJ2aWNlIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2FiaWxpdHlfc2VydmljZSc7CmltcG9ydCB7IGFkZERheXMsIGFkZE1pbnV0ZXMsIGludGVydmFsVG9EdXJhdGlvbiwgZm9ybWF0RHVyYXRpb24gfSBmcm9tICdkYXRlLWZucyc7CmltcG9ydCB7IEhhbmRsZURpcmVjdGl2ZSB9IGZyb20gJ3Z1ZS1zbGlja3NvcnQnOwppbXBvcnQgeyBpc1NhbWVZZWFyLCBzdGFydE9mSG91ciwgc2V0SG91cnMgfSBmcm9tICdkYXRlLWZucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkaXJlY3RpdmVzOiB7CiAgICBoYW5kbGU6IEhhbmRsZURpcmVjdGl2ZQogIH0sCiAgcHJvcHM6IHsKICAgIGlzTW9kYWw6IHsKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0sCiAgICBwb2xsVGVtcGxhdGU6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3T3B0aW9uOiBudWxsLAogICAgICBsYXN0UG9sbFR5cGU6IHRoaXMucG9sbFRlbXBsYXRlLnBvbGxUeXBlLAogICAgICBwb2xsT3B0aW9uczogdGhpcy5wb2xsVGVtcGxhdGUucG9sbE9wdGlvbnNBdHRyaWJ1dGVzKCksCiAgICAgIHZvdGluZ01ldGhvZHNJMThuOiB7CiAgICAgICAgY291bnQ6IHsKICAgICAgICAgIHRpdGxlOiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy5zaG93X3RodW1ic2RlY2lzaW9uX3Rvb2xzX2NhcmQucHJvcG9zYWxfdGl0bGUnLAogICAgICAgICAgaGludDogJ3BvbGxfY29tbW9uX2Zvcm0udm90aW5nX21ldGhvZHMuc2hvd190aHVtYnNfaGludCcKICAgICAgICB9LAogICAgICAgIHF1ZXN0aW9uOiB7CiAgICAgICAgICB0aXRsZTogJ3BvbGxfY29tbW9uX2Zvcm0udm90aW5nX21ldGhvZHMucXVlc3Rpb24nLAogICAgICAgICAgaGludDogJ3BvbGxfY29tbW9uX2Zvcm0udm90aW5nX21ldGhvZHMucXVlc3Rpb25faGludCcKICAgICAgICB9LAogICAgICAgIHByb3Bvc2FsOiB7CiAgICAgICAgICB0aXRsZTogJ2RlY2lzaW9uX3Rvb2xzX2NhcmQucHJvcG9zYWxfdGl0bGUnLAogICAgICAgICAgaGludDogJ3BvbGxfY29tbW9uX2Zvcm0udm90aW5nX21ldGhvZHMuc2hvd190aHVtYnNfaGludCcKICAgICAgICB9LAogICAgICAgIHBvbGw6IHsKICAgICAgICAgIHRpdGxlOiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy5zaW1wbGVfcG9sbCcsCiAgICAgICAgICBoaW50OiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy5jaG9vc2VfaGludCcKICAgICAgICB9LAogICAgICAgIG1lZXRpbmc6IHsKICAgICAgICAgIHRpdGxlOiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy50aW1lX3BvbGwnLAogICAgICAgICAgaGludDogJ3BvbGxfY29tbW9uX2Zvcm0udm90aW5nX21ldGhvZHMudGltZV9wb2xsX2hpbnQnCiAgICAgICAgfSwKICAgICAgICBkb3Rfdm90ZTogewogICAgICAgICAgdGl0bGU6ICdkZWNpc2lvbl90b29sc19jYXJkLmRvdF92b3RlX3RpdGxlJywKICAgICAgICAgIGhpbnQ6ICdwb2xsX2NvbW1vbl9mb3JtLnZvdGluZ19tZXRob2RzLmFsbG9jYXRlX2hpbnQnCiAgICAgICAgfSwKICAgICAgICBzY29yZTogewogICAgICAgICAgdGl0bGU6ICdwb2xsX2NvbW1vbl9mb3JtLnZvdGluZ19tZXRob2RzLnNjb3JlJywKICAgICAgICAgIGhpbnQ6ICdwb2xsX2NvbW1vbl9mb3JtLnZvdGluZ19tZXRob2RzLnNjb3JlX2hpbnQnCiAgICAgICAgfSwKICAgICAgICByYW5rZWRfY2hvaWNlOiB7CiAgICAgICAgICB0aXRsZTogJ3BvbGxfY29tbW9uX2Zvcm0udm90aW5nX21ldGhvZHMucmFua2VkX2Nob2ljZScsCiAgICAgICAgICBoaW50OiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy5yYW5rZWRfY2hvaWNlX2hpbnQnCiAgICAgICAgfQogICAgICB9LAogICAgICBjdXJyZW50SGlkZVJlc3VsdHM6IHRoaXMucG9sbFRlbXBsYXRlLmhpZGVSZXN1bHRzLAogICAgICBoaWRlUmVzdWx0c0l0ZW1zOiBbewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ2NvbW1vbi5vZmYnKSwKICAgICAgICB2YWx1ZTogJ29mZicKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ3BvbGxfY29tbW9uX2NhcmQudW50aWxfeW91X3ZvdGUnKSwKICAgICAgICB2YWx1ZTogJ3VudGlsX3ZvdGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdwb2xsX2NvbW1vbl9jYXJkLnVudGlsX3ZvdGluZ19pc19jbG9zZWQnKSwKICAgICAgICB2YWx1ZTogJ3VudGlsX2Nsb3NlZCcKICAgICAgfV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRQb2xsT3B0aW9uUHJpb3JpdHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGk7CiAgICAgIGkgPSAwOwogICAgICByZXR1cm4gdGhpcy5wb2xsT3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG8ucHJpb3JpdHkgPSBpKys7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZU9wdGlvbjogZnVuY3Rpb24gKG9wdGlvbikgewogICAgICB0aGlzLm5ld09wdGlvbiA9IG51bGw7CiAgICAgIHJldHVybiB0aGlzLnBvbGxPcHRpb25zID0gX3dpdGhvdXQodGhpcy5wb2xsT3B0aW9ucywgb3B0aW9uKTsKICAgIH0sCiAgICBhZGRPcHRpb246IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGtub3duT3B0aW9uLCBvcHRpb247CgogICAgICBpZiAoX3NvbWUodGhpcy5wb2xsT3B0aW9ucywgbyA9PiB7CiAgICAgICAgcmV0dXJuIG8ubmFtZS50b0xvd2VyQ2FzZSgpID09PSB0aGlzLm5ld09wdGlvbi50b0xvd2VyQ2FzZSgpOwogICAgICB9KSkgewogICAgICAgIHJldHVybiBGbGFzaC5lcnJvcigncG9sbF9wb2xsX2Zvcm0ub3B0aW9uX2FscmVhZHlfYWRkZWQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBrbm93bk9wdGlvbiA9IHRoaXMua25vd25PcHRpb25zLmZpbmQobyA9PiB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kdChvLm5hbWVfaTE4bikudG9Mb3dlckNhc2UoKSA9PT0gdGhpcy5uZXdPcHRpb24udG9Mb3dlckNhc2UoKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGtub3duT3B0aW9uKSB7CiAgICAgICAgICB0aGlzLnBvbGxPcHRpb25zLnB1c2goewogICAgICAgICAgICBuYW1lOiB0aGlzLm5ld09wdGlvbiwKICAgICAgICAgICAgaWNvbjoga25vd25PcHRpb24uaWNvbiwKICAgICAgICAgICAgbWVhbmluZzogdGhpcy4kdChrbm93bk9wdGlvbi5tZWFuaW5nX2kxOG4pLAogICAgICAgICAgICBwcm9tcHQ6IHRoaXMuJHQoa25vd25PcHRpb24ucHJvbXB0X2kxOG4pCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3B0aW9uID0gewogICAgICAgICAgICBuYW1lOiB0aGlzLm5ld09wdGlvbiwKICAgICAgICAgICAgbWVhbmluZzogJycsCiAgICAgICAgICAgIHByb21wdDogJycsCiAgICAgICAgICAgIGljb246ICdhZ3JlZScKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLnBvbGxPcHRpb25zLnB1c2gob3B0aW9uKTsKCiAgICAgICAgICBpZiAodGhpcy5wb2xsVGVtcGxhdGUucG9sbFR5cGUgPT09ICdwcm9wb3NhbCcpIHsKICAgICAgICAgICAgRmxhc2guc3VjY2VzcygncG9sbF9jb21tb25fZm9ybS5vcHRpb25fYWRkZWRfcGxlYXNlX2FkZF9kZXRhaWxzJyk7CiAgICAgICAgICAgIHRoaXMuZWRpdE9wdGlvbihvcHRpb24pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMubmV3T3B0aW9uID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGVkaXRPcHRpb246IGZ1bmN0aW9uIChvcHRpb24pIHsKICAgICAgcmV0dXJuIEV2ZW50QnVzLiRlbWl0KCdvcGVuTW9kYWwnLCB7CiAgICAgICAgY29tcG9uZW50OiAnUG9sbE9wdGlvbkZvcm0nLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBwb2xsT3B0aW9uOiBvcHRpb24sCiAgICAgICAgICBwb2xsOiB0aGlzLnBvbGxUZW1wbGF0ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhY3Rpb25OYW1lOwogICAgICBhY3Rpb25OYW1lID0gdGhpcy5wb2xsVGVtcGxhdGUuaXNOZXcoKSA/ICdjcmVhdGVkJyA6ICd1cGRhdGVkJzsKICAgICAgdGhpcy5wb2xsVGVtcGxhdGUuc2V0RXJyb3JzKHt9KTsKICAgICAgdGhpcy5zZXRQb2xsT3B0aW9uUHJpb3JpdHkoKTsKICAgICAgdGhpcy5wb2xsVGVtcGxhdGUucG9sbE9wdGlvbnMgPSB0aGlzLnBvbGxPcHRpb25zOwogICAgICByZXR1cm4gdGhpcy5wb2xsVGVtcGxhdGUuc2F2ZSgpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgRmxhc2guc3VjY2VzcygicG9sbF9jb21tb24ucG9sbF90ZW1wbGF0ZV9zYXZlZCIpOwoKICAgICAgICBpZiAodGhpcy5pc01vZGFsKSB7CiAgICAgICAgICByZXR1cm4gRXZlbnRCdXMuJGVtaXQoJ2Nsb3NlTW9kYWwnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuJHJvdXRlLnF1ZXJ5LnJldHVybl90byk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgRmxhc2gud2FybmluZygncG9sbF9jb21tb25fZm9ybS5wbGVhc2VfcmV2aWV3X3RoZV9mb3JtJyk7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBoYXNPcHRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnBvbGxUZW1wbGF0ZS5jb25maWcoKS5oYXNfb3B0aW9uczsKICAgIH0sCiAgICBicmVhZGNydW1iczogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX2NvbXBhY3QoW3RoaXMucG9sbFRlbXBsYXRlLmdyb3VwKCkucGFyZW50SWQgJiYgdGhpcy5wb2xsVGVtcGxhdGUuZ3JvdXAoKS5wYXJlbnQoKSwgdGhpcy5wb2xsVGVtcGxhdGUuZ3JvdXAoKV0pLm1hcChnID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdGV4dDogZy5uYW1lLAogICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgICAgdG86IHRoaXMudXJsRm9yKGcpCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgdm90aW5nTWV0aG9kc0l0ZW1zOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfd2l0aG91dChPYmplY3Qua2V5cyh0aGlzLnZvdGluZ01ldGhvZHNJMThuKSwgJ2NvdW50JykubWFwKGtleSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRleHQ6IHRoaXMuJHQodGhpcy52b3RpbmdNZXRob2RzSTE4bltrZXldLnRpdGxlKSwKICAgICAgICAgIHZhbHVlOiBrZXkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBrbm93bk9wdGlvbnM6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEFwcENvbmZpZy5wb2xsVHlwZXNbdGhpcy5wb2xsVGVtcGxhdGUucG9sbFR5cGVdLmNvbW1vbl9wb2xsX29wdGlvbnMgfHwgW107CiAgICB9LAogICAgYWxsb3dBbm9ueW1vdXM6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICF0aGlzLnBvbGxUZW1wbGF0ZS5jb25maWcoKS5wcmV2ZW50X2Fub255bW91czsKICAgIH0sCiAgICBzdGFuY2VSZWFzb25SZXF1aXJlZEl0ZW1zOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ3BvbGxfY29tbW9uX2Zvcm0uc3RhbmNlX3JlYXNvbl9yZXF1aXJlZCcpLAogICAgICAgIHZhbHVlOiAncmVxdWlyZWQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdwb2xsX2NvbW1vbl9mb3JtLnN0YW5jZV9yZWFzb25fb3B0aW9uYWwnKSwKICAgICAgICB2YWx1ZTogJ29wdGlvbmFsJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgncG9sbF9jb21tb25fZm9ybS5zdGFuY2VfcmVhc29uX2Rpc2FibGVkJyksCiAgICAgICAgdmFsdWU6ICdkaXNhYmxlZCcKICAgICAgfV07CiAgICB9LAogICAgdGl0bGVQYXRoOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLnBvbGxUZW1wbGF0ZS5wb2xsVHlwZSA9PT0gJ3Byb3Bvc2FsJykgewogICAgICAgIHJldHVybiB0aGlzLnBvbGxUZW1wbGF0ZS5pc05ldygpICYmICdwb2xsX2NvbW1vbi5uZXdfcHJvcG9zYWxfdGVtcGxhdGUnIHx8ICdwb2xsX2NvbW1vbi5lZGl0X3Byb3Bvc2FsX3RlbXBsYXRlJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5wb2xsVGVtcGxhdGUuaXNOZXcoKSAmJiAncG9sbF9jb21tb24ubmV3X3BvbGxfdGVtcGxhdGUnIHx8ICdwb2xsX2NvbW1vbi5lZGl0X3BvbGxfdGVtcGxhdGUnOwogICAgICB9CiAgICB9LAogICAgY2xvc2luZ1Nvb25JdGVtczogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJ25vYm9keSBhdXRob3IgdW5kZWNpZGVkX3ZvdGVycyB2b3RlcnMnLnNwbGl0KCcgJykubWFwKG5hbWUgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiB0aGlzLiR0KGBwb2xsX2NvbW1vbl9zZXR0aW5ncy5ub3RpZnlfb25fY2xvc2luZ19zb29uLiR7bmFtZX1gKSwKICAgICAgICAgIHZhbHVlOiBuYW1lCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgb3B0aW9uRm9ybWF0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnBvbGxUZW1wbGF0ZS5wb2xsT3B0aW9uTmFtZUZvcm1hdDsKICAgIH0sCiAgICBoYXNPcHRpb25JY29uOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnBvbGxUZW1wbGF0ZS5jb25maWcoKS5oYXNfb3B0aW9uX2ljb247CiAgICB9LAogICAgaTE4bkl0ZW1zOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfY29tcGFjdCgnYWdyZWUgYWJzdGFpbiBkaXNhZ3JlZSBjb25zZW50IG9iamVjdGlvbiBibG9jayB5ZXMgbm8nLnNwbGl0KCcgJykubWFwKG5hbWUgPT4gewogICAgICAgIGlmICh0aGlzLnBvbGxUZW1wbGF0ZS5wb2xsT3B0aW9uTmFtZXMuaW5jbHVkZXMobmFtZSkpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ3BvbGxfcHJvcG9zYWxfb3B0aW9ucy4nICsgbmFtZSksCiAgICAgICAgICB2YWx1ZTogbmFtZQogICAgICAgIH07CiAgICAgIH0pKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/components/poll_template/form.vue"],"names":[],"mappings":"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","sourcesContent":["\nimport AppConfig from '@/shared/services/app_config'\nimport Session from '@/shared/services/session'\nimport { compact, without, kebabCase, snakeCase, some } from 'lodash'\nimport Flash from '@/shared/services/flash'\nimport Records from '@/shared/services/records'\nimport EventBus from '@/shared/services/event_bus'\nimport AbilityService from '@/shared/services/ability_service'\nimport { addDays, addMinutes, intervalToDuration, formatDuration } from 'date-fns'\nimport { HandleDirective } from 'vue-slicksort';\nimport { isSameYear, startOfHour, setHours }  from 'date-fns'\n\nexport default\n  directives: { handle: HandleDirective }\n\n  props:\n    isModal:\n      default: false\n      type: Boolean\n    pollTemplate: Object\n\n  data: ->\n    newOption: null\n    lastPollType: @pollTemplate.pollType\n    pollOptions: @pollTemplate.pollOptionsAttributes()\n\n    votingMethodsI18n:\n      count:\n        title: 'poll_common_form.voting_methods.show_thumbsdecision_tools_card.proposal_title'\n        hint: 'poll_common_form.voting_methods.show_thumbs_hint'\n      question: \n        title: 'poll_common_form.voting_methods.question'\n        hint: 'poll_common_form.voting_methods.question_hint'\n      proposal: \n        title: 'decision_tools_card.proposal_title'\n        hint: 'poll_common_form.voting_methods.show_thumbs_hint'\n      poll: \n        title: 'poll_common_form.voting_methods.simple_poll'\n        hint: 'poll_common_form.voting_methods.choose_hint'\n      meeting:\n        title: 'poll_common_form.voting_methods.time_poll'\n        hint: 'poll_common_form.voting_methods.time_poll_hint'\n      dot_vote:\n        title: 'decision_tools_card.dot_vote_title'\n        hint: 'poll_common_form.voting_methods.allocate_hint'\n      score: \n        title: 'poll_common_form.voting_methods.score'\n        hint: 'poll_common_form.voting_methods.score_hint'\n      ranked_choice:\n        title: 'poll_common_form.voting_methods.ranked_choice'\n        hint: 'poll_common_form.voting_methods.ranked_choice_hint'\n\n    currentHideResults: @pollTemplate.hideResults\n    hideResultsItems: [\n      { text: @$t('common.off'), value: 'off' }\n      { text: @$t('poll_common_card.until_you_vote'), value: 'until_vote' }\n      { text: @$t('poll_common_card.until_voting_is_closed'), value: 'until_closed' }\n    ]\n\n  methods:\n    setPollOptionPriority: ->\n      i = 0\n      @pollOptions.forEach (o) -> o.priority = i++\n\n    removeOption: (option) ->\n      @newOption = null\n      @pollOptions = without(@pollOptions, option)\n\n    addOption: ->\n      if some(@pollOptions, (o) => o.name.toLowerCase() == @newOption.toLowerCase())\n        Flash.error('poll_poll_form.option_already_added')\n      else\n        knownOption = @knownOptions.find (o) =>\n          @$t(o.name_i18n).toLowerCase() == @newOption.toLowerCase()\n\n        if knownOption\n          @pollOptions.push\n            name: @newOption\n            icon:  knownOption.icon\n            meaning: @$t(knownOption.meaning_i18n)\n            prompt: @$t(knownOption.prompt_i18n)\n        else\n          option = \n            name: @newOption\n            meaning: ''\n            prompt: ''\n            icon: 'agree'\n          @pollOptions.push option\n          if @pollTemplate.pollType == 'proposal'\n            Flash.success('poll_common_form.option_added_please_add_details')\n            @editOption(option)\n\n        @newOption = null\n\n    editOption: (option) ->\n      EventBus.$emit 'openModal',\n        component: 'PollOptionForm'\n        props:\n          pollOption: option\n          poll: @pollTemplate\n\n    submit: ->\n      actionName = if @pollTemplate.isNew() then 'created' else 'updated'\n      @pollTemplate.setErrors({})\n      @setPollOptionPriority()\n      @pollTemplate.pollOptions = @pollOptions\n      @pollTemplate.save().then (data) =>\n        Flash.success \"poll_common.poll_template_saved\"\n        if @isModal\n          EventBus.$emit('closeModal')\n        else\n          @$router.push @$route.query.return_to\n      .catch (error) =>\n        Flash.warning 'poll_common_form.please_review_the_form'\n        console.error error\n\n  computed:\n    hasOptions: -> @pollTemplate.config().has_options\n    breadcrumbs: ->\n      compact([@pollTemplate.group().parentId && @pollTemplate.group().parent(), @pollTemplate.group()]).map (g) =>\n        text: g.name\n        disabled: false\n        to: @urlFor(g)\n\n    votingMethodsItems: ->\n      without(Object.keys(@votingMethodsI18n), 'count').map (key) =>\n        {text: @$t(@votingMethodsI18n[key].title), value: key}\n\n    knownOptions: ->\n      (AppConfig.pollTypes[@pollTemplate.pollType].common_poll_options || [])\n\n    allowAnonymous: -> !@pollTemplate.config().prevent_anonymous\n    stanceReasonRequiredItems: ->\n      [\n        {text: @$t('poll_common_form.stance_reason_required'), value: 'required'},\n        {text: @$t('poll_common_form.stance_reason_optional'), value: 'optional'},\n        {text: @$t('poll_common_form.stance_reason_disabled'), value: 'disabled'}\n      ]\n\n    titlePath: ->\n      if @pollTemplate.pollType == 'proposal'\n        (@pollTemplate.isNew() && 'poll_common.new_proposal_template') || 'poll_common.edit_proposal_template'\n      else\n        (@pollTemplate.isNew() && 'poll_common.new_poll_template') || 'poll_common.edit_poll_template'\n\n    closingSoonItems: ->\n      'nobody author undecided_voters voters'.split(' ').map (name) =>\n        {text: @$t(\"poll_common_settings.notify_on_closing_soon.#{name}\"), value: name}\n\n    optionFormat: -> @pollTemplate.pollOptionNameFormat\n    hasOptionIcon: -> @pollTemplate.config().has_option_icon\n    i18nItems: -> \n      compact 'agree abstain disagree consent objection block yes no'.split(' ').map (name) =>\n        return null if @pollTemplate.pollOptionNames.includes(name)\n        text: @$t('poll_proposal_options.'+name)\n        value: name\n\n"],"sourceRoot":""}]}