{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/src/shared/services/poll_template_service.coffee","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/shared/services/poll_template_service.coffee","mtime":1706724415812},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIFBvbGxUZW1wbGF0ZVNlcnZpY2U7CmltcG9ydCBTZXNzaW9uIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3Nlc3Npb24nOwppbXBvcnQgUmVjb3JkcyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9yZWNvcmRzJzsKaW1wb3J0IEZsYXNoIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2ZsYXNoJzsKaW1wb3J0IEV2ZW50QnVzIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2V2ZW50X2J1cyc7CmltcG9ydCBBYmlsaXR5U2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9hYmlsaXR5X3NlcnZpY2UnOwppbXBvcnQgU3RhbmNlU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9zdGFuY2Vfc2VydmljZSc7CmltcG9ydCBMbW9VcmxTZXJ2aWNlIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2xtb191cmxfc2VydmljZSc7CmltcG9ydCBvcGVuTW9kYWwgZnJvbSAnQC9zaGFyZWQvaGVscGVycy9vcGVuX21vZGFsJzsKaW1wb3J0IGkxOG4gZnJvbSAnQC9pMThuJzsKaW1wb3J0IHsgaGFyZFJlbG9hZCB9IGZyb20gJ0Avc2hhcmVkL2hlbHBlcnMvd2luZG93JzsKaW1wb3J0IFJlc2N1ZVVuc2F2ZWRFZGl0c1NlcnZpY2UgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvcmVzY3VlX3Vuc2F2ZWRfZWRpdHNfc2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IG5ldyAoUG9sbFRlbXBsYXRlU2VydmljZSA9IGNsYXNzIFBvbGxUZW1wbGF0ZVNlcnZpY2UgewogIGFjdGlvbnMocG9sbFRlbXBsYXRlLCBncm91cCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdF9kZWZhdWx0X3RlbXBsYXRlOiB7CiAgICAgICAgbmFtZTogJ3BvbGxfY29tbW9uLmVkaXRfdGVtcGxhdGUnLAogICAgICAgIGljb246ICdtZGktcGVuY2lsJywKICAgICAgICBtZW51OiB0cnVlLAogICAgICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAhcG9sbFRlbXBsYXRlLmlkICYmIGdyb3VwLmFkbWluc0luY2x1ZGUoU2Vzc2lvbi51c2VyKCkpOwogICAgICAgIH0sCiAgICAgICAgdG86IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBgL3BvbGxfdGVtcGxhdGVzL25ldz90ZW1wbGF0ZV9rZXk9JHtwb2xsVGVtcGxhdGUua2V5fSZncm91cF9pZD0ke2dyb3VwLmlkfSZyZXR1cm5fdG89JHtTZXNzaW9uLnJldHVyblRvKCl9YDsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIHBlcmZvcm06IC0+CiAgICAgIC8vICAgb3Blbk1vZGFsCiAgICAgIC8vICAgICBjb21wb25lbnQ6ICdQb2xsVGVtcGxhdGVGb3JtJwogICAgICAvLyAgICAgcHJvcHM6CiAgICAgIC8vICAgICAgIGlzTW9kYWw6IHRydWUKICAgICAgLy8gICAgICAgcG9sbFRlbXBsYXRlOiBwb2xsVGVtcGxhdGUuY2xvbmUoKQogICAgICBlZGl0X3RlbXBsYXRlOiB7CiAgICAgICAgbmFtZTogJ3BvbGxfY29tbW9uLmVkaXRfdGVtcGxhdGUnLAogICAgICAgIGljb246ICdtZGktcGVuY2lsJywKICAgICAgICBtZW51OiB0cnVlLAogICAgICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBwb2xsVGVtcGxhdGUuaWQgJiYgZ3JvdXAuYWRtaW5zSW5jbHVkZShTZXNzaW9uLnVzZXIoKSk7CiAgICAgICAgfSwKICAgICAgICB0bzogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGAvcG9sbF90ZW1wbGF0ZXMvJHtwb2xsVGVtcGxhdGUuaWR9L2VkaXQ/JnJldHVybl90bz0ke1Nlc3Npb24ucmV0dXJuVG8oKX1gOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gcGVyZm9ybTogLT4KICAgICAgLy8gICBvcGVuTW9kYWwKICAgICAgLy8gICAgIGNvbXBvbmVudDogJ1BvbGxUZW1wbGF0ZUZvcm0nCiAgICAgIC8vICAgICBwcm9wczoKICAgICAgLy8gICAgICAgaXNNb2RhbDogdHJ1ZQogICAgICAvLyAgICAgICBwb2xsVGVtcGxhdGU6IHBvbGxUZW1wbGF0ZS5jbG9uZSgpCiAgICAgIG1vdmU6IHsKICAgICAgICBuYW1lOiAnY29tbW9uLmFjdGlvbi5tb3ZlJywKICAgICAgICBpY29uOiAnbWRpLWFycm93LXVwLWRvd24nLAogICAgICAgIG1lbnU6IHRydWUsCiAgICAgICAgY2FuUGVyZm9ybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICFwb2xsVGVtcGxhdGUuZGlzY2FyZGVkQXQgJiYgZ3JvdXAuYWRtaW5zSW5jbHVkZShTZXNzaW9uLnVzZXIoKSk7CiAgICAgICAgfSwKICAgICAgICBwZXJmb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gRXZlbnRCdXMuJGVtaXQoJ3NvcnRQb2xsVGVtcGxhdGVzJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkaXNjYXJkOiB7CiAgICAgICAgaWNvbjogJ21kaS1leWUtb2ZmJywKICAgICAgICBuYW1lOiAnY29tbW9uLmFjdGlvbi5oaWRlJywKICAgICAgICBtZW51OiB0cnVlLAogICAgICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBwb2xsVGVtcGxhdGUuaWQgJiYgIXBvbGxUZW1wbGF0ZS5kaXNjYXJkZWRBdCAmJiBncm91cC5hZG1pbnNJbmNsdWRlKFNlc3Npb24udXNlcigpKTsKICAgICAgICB9LAogICAgICAgIHBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBSZWNvcmRzLnJlbW90ZS5wb3N0KCdwb2xsX3RlbXBsYXRlcy9kaXNjYXJkJywgewogICAgICAgICAgICBncm91cF9pZDogZ3JvdXAuaWQsCiAgICAgICAgICAgIGlkOiBwb2xsVGVtcGxhdGUuaWQKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdW5kaXNjYXJkOiB7CiAgICAgICAgaWNvbjogJ21kaS1leWUnLAogICAgICAgIG5hbWU6ICdjb21tb24uYWN0aW9uLnVuaGlkZScsCiAgICAgICAgbWVudTogdHJ1ZSwKICAgICAgICBjYW5QZXJmb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gcG9sbFRlbXBsYXRlLmlkICYmIHBvbGxUZW1wbGF0ZS5kaXNjYXJkZWRBdCAmJiBncm91cC5hZG1pbnNJbmNsdWRlKFNlc3Npb24udXNlcigpKTsKICAgICAgICB9LAogICAgICAgIHBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBSZWNvcmRzLnJlbW90ZS5wb3N0KCdwb2xsX3RlbXBsYXRlcy91bmRpc2NhcmQnLCB7CiAgICAgICAgICAgIGdyb3VwX2lkOiBncm91cC5pZCwKICAgICAgICAgICAgaWQ6IHBvbGxUZW1wbGF0ZS5pZAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZXN0cm95OiB7CiAgICAgICAgaWNvbjogJ21kaS1kZWxldGUnLAogICAgICAgIG5hbWU6ICdjb21tb24uYWN0aW9uLmRlbGV0ZScsCiAgICAgICAgbWVudTogdHJ1ZSwKICAgICAgICBjYW5QZXJmb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gcG9sbFRlbXBsYXRlLmlkICYmIGdyb3VwLmFkbWluc0luY2x1ZGUoU2Vzc2lvbi51c2VyKCkpOwogICAgICAgIH0sCiAgICAgICAgcGVyZm9ybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG9wZW5Nb2RhbCh7CiAgICAgICAgICAgIGNvbXBvbmVudDogJ0NvbmZpcm1Nb2RhbCcsCiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgY29uZmlybTogewogICAgICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBwb2xsVGVtcGxhdGUuZGVzdHJveSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBFdmVudEJ1cy4kZW1pdCgnY2xvc2VNb2RhbCcpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0ZXh0OiB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnY29tbW9uLmFyZV95b3Vfc3VyZScsCiAgICAgICAgICAgICAgICAgIGhlbHB0ZXh0OiAncG9sbF9jb21tb25fZm9ybS5jb25maXJtX2RlbGV0ZScsCiAgICAgICAgICAgICAgICAgIHN1Ym1pdDogJ2NvbW1vbi5hY3Rpb24uZGVsZXRlJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBoaWRlOiB7CiAgICAgICAgaWNvbjogJ21kaS1leWUtb2ZmJywKICAgICAgICBuYW1lOiAnY29tbW9uLmFjdGlvbi5oaWRlJywKICAgICAgICBtZW51OiB0cnVlLAogICAgICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAhcG9sbFRlbXBsYXRlLmlkICYmIHBvbGxUZW1wbGF0ZS5rZXkgJiYgIXBvbGxUZW1wbGF0ZS5kaXNjYXJkZWRBdCAmJiBncm91cC5hZG1pbnNJbmNsdWRlKFNlc3Npb24udXNlcigpKTsKICAgICAgICB9LAogICAgICAgIHBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBSZWNvcmRzLnJlbW90ZS5wb3N0KCdwb2xsX3RlbXBsYXRlcy9oaWRlJywgewogICAgICAgICAgICBncm91cF9pZDogZ3JvdXAuaWQsCiAgICAgICAgICAgIGtleTogcG9sbFRlbXBsYXRlLmtleQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICB1bmhpZGU6IHsKICAgICAgICBpY29uOiAnbWRpLWV5ZScsCiAgICAgICAgbmFtZTogJ2NvbW1vbi5hY3Rpb24udW5oaWRlJywKICAgICAgICBtZW51OiB0cnVlLAogICAgICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAhcG9sbFRlbXBsYXRlLmlkICYmIHBvbGxUZW1wbGF0ZS5rZXkgJiYgcG9sbFRlbXBsYXRlLmRpc2NhcmRlZEF0ICYmIGdyb3VwLmFkbWluc0luY2x1ZGUoU2Vzc2lvbi51c2VyKCkpOwogICAgICAgIH0sCiAgICAgICAgcGVyZm9ybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFJlY29yZHMucmVtb3RlLnBvc3QoJ3BvbGxfdGVtcGxhdGVzL3VuaGlkZScsIHsKICAgICAgICAgICAgZ3JvdXBfaWQ6IGdyb3VwLmlkLAogICAgICAgICAgICBrZXk6IHBvbGxUZW1wbGF0ZS5rZXkKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9Cgp9KSgpOw=="},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/shared/services/poll_template_service.coffee"],"names":[],"mappings":"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","sourcesContent":["import Session        from '@/shared/services/session'\nimport Records        from '@/shared/services/records'\nimport Flash          from '@/shared/services/flash'\nimport EventBus       from '@/shared/services/event_bus'\nimport AbilityService from '@/shared/services/ability_service'\nimport StanceService  from '@/shared/services/stance_service'\nimport LmoUrlService  from '@/shared/services/lmo_url_service'\nimport openModal      from '@/shared/helpers/open_modal'\nimport i18n           from '@/i18n'\nimport { hardReload } from '@/shared/helpers/window'\nimport RescueUnsavedEditsService from '@/shared/services/rescue_unsaved_edits_service'\n\nexport default new class PollTemplateService\n  actions: (pollTemplate, group) ->\n    edit_default_template:\n      name: 'poll_common.edit_template'\n      icon: 'mdi-pencil'\n      menu: true\n      canPerform: -> !pollTemplate.id && group.adminsInclude(Session.user())\n      to: ->\n        \"/poll_templates/new?template_key=#{pollTemplate.key}&group_id=#{group.id}&return_to=#{Session.returnTo()}\"\n      # perform: ->\n      #   openModal\n      #     component: 'PollTemplateForm'\n      #     props:\n      #       isModal: true\n      #       pollTemplate: pollTemplate.clone()\n\n    edit_template:\n      name: 'poll_common.edit_template'\n      icon: 'mdi-pencil'\n      menu: true\n      canPerform: -> pollTemplate.id && group.adminsInclude(Session.user())\n      to: ->\n        \"/poll_templates/#{pollTemplate.id}/edit?&return_to=#{Session.returnTo()}\"\n      # perform: ->\n      #   openModal\n      #     component: 'PollTemplateForm'\n      #     props:\n      #       isModal: true\n      #       pollTemplate: pollTemplate.clone()\n\n    move:\n      name: 'common.action.move'\n      icon: 'mdi-arrow-up-down'\n      menu: true\n      canPerform: -> !pollTemplate.discardedAt && group.adminsInclude(Session.user())\n      perform: -> EventBus.$emit('sortPollTemplates')\n\n    discard:\n      icon: 'mdi-eye-off'\n      name: 'common.action.hide'\n      menu: true\n      canPerform: -> pollTemplate.id && !pollTemplate.discardedAt && group.adminsInclude(Session.user())\n      perform: ->\n        Records.remote.post('poll_templates/discard', {group_id: group.id, id: pollTemplate.id})\n\n    undiscard:\n      icon: 'mdi-eye'\n      name: 'common.action.unhide'\n      menu: true\n      canPerform: -> pollTemplate.id && pollTemplate.discardedAt && group.adminsInclude(Session.user())\n      perform: ->\n        Records.remote.post('poll_templates/undiscard', {group_id: group.id, id: pollTemplate.id})\n\n    destroy:\n      icon: 'mdi-delete'\n      name: 'common.action.delete'\n      menu: true\n      canPerform: -> pollTemplate.id && group.adminsInclude(Session.user())\n      perform: -> \n        openModal\n          component: 'ConfirmModal',\n          props:\n            confirm:\n              submit: ->\n                pollTemplate.destroy().then ->\n                  EventBus.$emit('closeModal')\n              text:\n                title: 'common.are_you_sure'\n                helptext: 'poll_common_form.confirm_delete'\n                submit: 'common.action.delete'\n\n    hide:\n      icon: 'mdi-eye-off'\n      name: 'common.action.hide'\n      menu: true\n      canPerform: -> \n        !pollTemplate.id && pollTemplate.key && !pollTemplate.discardedAt && group.adminsInclude(Session.user())\n      perform: ->\n        Records.remote.post('poll_templates/hide', {group_id: group.id, key: pollTemplate.key})\n\n    unhide:\n      icon: 'mdi-eye'\n      name: 'common.action.unhide'\n      menu: true\n      canPerform: -> \n        !pollTemplate.id && pollTemplate.key && pollTemplate.discardedAt && group.adminsInclude(Session.user())\n      perform: ->\n        Records.remote.post('poll_templates/unhide', {group_id: group.id, key: pollTemplate.key})\n"],"sourceRoot":""}]}