{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!/home/gustavo/Documents/tese/loomio/vue/src/components/poll/common/form.vue?vue&type=script&lang=coffee&","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/components/poll/common/form.vue","mtime":1706724415804},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js","mtime":1706724499784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zb21lIGZyb20gImxvZGFzaC9zb21lIjsKaW1wb3J0IF93aXRob3V0IGZyb20gImxvZGFzaC93aXRob3V0IjsKaW1wb3J0IF9jb21wYWN0IGZyb20gImxvZGFzaC9jb21wYWN0IjsKaW1wb3J0IEFwcENvbmZpZyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9hcHBfY29uZmlnJzsKaW1wb3J0IFNlc3Npb24gZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvc2Vzc2lvbic7CmltcG9ydCBGbGFzaCBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9mbGFzaCc7CmltcG9ydCBSZWNvcmRzIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3JlY29yZHMnOwppbXBvcnQgRXZlbnRCdXMgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvZXZlbnRfYnVzJzsKaW1wb3J0IEFiaWxpdHlTZXJ2aWNlIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2FiaWxpdHlfc2VydmljZSc7CmltcG9ydCB7IGFkZERheXMsIGFkZE1pbnV0ZXMsIGludGVydmFsVG9EdXJhdGlvbiwgZm9ybWF0RHVyYXRpb24gfSBmcm9tICdkYXRlLWZucyc7CmltcG9ydCB7IGFkZEhvdXJzLCBpc0FmdGVyIH0gZnJvbSAnZGF0ZS1mbnMnOwppbXBvcnQgUG9sbENvbW1vbldpcEZpZWxkIGZyb20gJ0AvY29tcG9uZW50cy9wb2xsL2NvbW1vbi93aXBfZmllbGQnOwppbXBvcnQgUG9sbFRlbXBsYXRlSW5mb1BhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9wb2xsX3RlbXBsYXRlL2luZm9fcGFuZWwnOwppbXBvcnQgeyBIYW5kbGVEaXJlY3RpdmUgfSBmcm9tICd2dWUtc2xpY2tzb3J0JzsKaW1wb3J0IHsgaXNTYW1lWWVhciwgc3RhcnRPZkhvdXIsIHNldEhvdXJzIH0gZnJvbSAnZGF0ZS1mbnMnOwppbXBvcnQgSTE4biBmcm9tICdAL2kxOG4nOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUG9sbENvbW1vbldpcEZpZWxkLAogICAgUG9sbFRlbXBsYXRlSW5mb1BhbmVsCiAgfSwKICBkaXJlY3RpdmVzOiB7CiAgICBoYW5kbGU6IEhhbmRsZURpcmVjdGl2ZQogIH0sCiAgcHJvcHM6IHsKICAgIHBvbGw6IE9iamVjdCwKICAgIHNob3VsZFJlc2V0OiBCb29sZWFuLAogICAgcmVkaXJlY3RPblNhdmU6IEJvb2xlYW4KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIFJlY29yZHMudXNlcnMuZmV0Y2hHcm91cHMoKTsKICAgIHJldHVybiB0aGlzLndhdGNoUmVjb3Jkcyh7CiAgICAgIGNvbGxlY3Rpb25zOiBbJ2dyb3VwcycsICdtZW1iZXJzaGlwcyddLAogICAgICBxdWVyeTogKCkgPT4gewogICAgICAgIHJldHVybiB0aGlzLmdyb3VwSXRlbXMgPSBbewogICAgICAgICAgdGV4dDogdGhpcy4kdCgnZGlzY3Vzc2lvbl9mb3JtLm5vbmVfaW52aXRlX29ubHlfdGhyZWFkJyksCiAgICAgICAgICB2YWx1ZTogbnVsbAogICAgICAgIH1dLmNvbmNhdChTZXNzaW9uLnVzZXIoKS5ncm91cHMoKS5maWx0ZXIoZnVuY3Rpb24gKGcpIHsKICAgICAgICAgIHJldHVybiBBYmlsaXR5U2VydmljZS5jYW5TdGFydFBvbGwoZyk7CiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0ZXh0OiBnLmZ1bGxOYW1lLAogICAgICAgICAgICB2YWx1ZTogZy5pZAogICAgICAgICAgfTsKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3T3B0aW9uOiBudWxsLAogICAgICBsYXN0UG9sbFR5cGU6IHRoaXMucG9sbC5wb2xsVHlwZSwKICAgICAgcG9sbE9wdGlvbnM6IHRoaXMucG9sbC5wb2xsT3B0aW9uc0F0dHJpYnV0ZXMgfHwgdGhpcy5wb2xsLmNsb25lUG9sbE9wdGlvbnMoKSwKICAgICAgZ3JvdXBJdGVtczogW10sCiAgICAgIHNob3dBZHZhbmNlZDogZmFsc2UsCiAgICAgIHZvdGluZ01ldGhvZHNJMThuOiB7CiAgICAgICAgcHJvcG9zYWw6IHsKICAgICAgICAgIHRpdGxlOiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy5zaG93X3RodW1icycsCiAgICAgICAgICBoaW50OiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy5zaG93X3RodW1ic19oaW50JwogICAgICAgIH0sCiAgICAgICAgcG9sbDogewogICAgICAgICAgdGl0bGU6ICdwb2xsX2NvbW1vbl9mb3JtLnZvdGluZ19tZXRob2RzLnNpbXBsZV9wb2xsJywKICAgICAgICAgIGhpbnQ6ICdwb2xsX2NvbW1vbl9mb3JtLnZvdGluZ19tZXRob2RzLmNob29zZV9oaW50JwogICAgICAgIH0sCiAgICAgICAgLy8gbWVldGluZzoKICAgICAgICAvLyAgIHRpdGxlOiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy50aW1lX3BvbGwnCiAgICAgICAgLy8gICBoaW50OiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy50aW1lX3BvbGxfaGludCcKICAgICAgICBkb3Rfdm90ZTogewogICAgICAgICAgdGl0bGU6ICdkZWNpc2lvbl90b29sc19jYXJkLmRvdF92b3RlX3RpdGxlJywKICAgICAgICAgIGhpbnQ6ICdwb2xsX2NvbW1vbl9mb3JtLnZvdGluZ19tZXRob2RzLmFsbG9jYXRlX2hpbnQnCiAgICAgICAgfSwKICAgICAgICBzY29yZTogewogICAgICAgICAgdGl0bGU6ICdwb2xsX2NvbW1vbl9mb3JtLnZvdGluZ19tZXRob2RzLnNjb3JlJywKICAgICAgICAgIGhpbnQ6ICdwb2xsX2NvbW1vbl9mb3JtLnZvdGluZ19tZXRob2RzLnNjb3JlX2hpbnQnCiAgICAgICAgfSwKICAgICAgICByYW5rZWRfY2hvaWNlOiB7CiAgICAgICAgICB0aXRsZTogJ3BvbGxfY29tbW9uX2Zvcm0udm90aW5nX21ldGhvZHMucmFua2VkX2Nob2ljZScsCiAgICAgICAgICBoaW50OiAncG9sbF9jb21tb25fZm9ybS52b3RpbmdfbWV0aG9kcy5yYW5rZWRfY2hvaWNlX2hpbnQnCiAgICAgICAgfQogICAgICB9LAogICAgICBjaGFydFR5cGVJdGVtczogW3sKICAgICAgICB0ZXh0OiAnYmFyJywKICAgICAgICB2YWx1ZTogJ2JhcicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdwaWUnLAogICAgICAgIHZhbHVlOiAncGllJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ2dyaWQnLAogICAgICAgIHZhbHVlOiAnZ3JpZCcKICAgICAgfV0sCiAgICAgIGN1cnJlbnRIaWRlUmVzdWx0czogdGhpcy5wb2xsLmhpZGVSZXN1bHRzLAogICAgICBoaWRlUmVzdWx0c0l0ZW1zOiBbewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ2NvbW1vbi5vZmYnKSwKICAgICAgICB2YWx1ZTogJ29mZicKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ3BvbGxfY29tbW9uX2NhcmQudW50aWxfeW91X3ZvdGUnKSwKICAgICAgICB2YWx1ZTogJ3VudGlsX3ZvdGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdwb2xsX2NvbW1vbl9jYXJkLnVudGlsX3ZvdGluZ19pc19jbG9zZWQnKSwKICAgICAgICB2YWx1ZTogJ3VudGlsX2Nsb3NlZCcKICAgICAgfV0sCiAgICAgIG5ld0RhdGVPcHRpb246IHN0YXJ0T2ZIb3VyKHNldEhvdXJzKG5ldyBEYXRlKCksIDEyKSksCiAgICAgIG1pbkRhdGU6IG5ldyBEYXRlKCksCiAgICAgIGNsb3NpbmdBdFdhczogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9wdGlvbkhhc1ZvdGVzOiBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgIHJldHVybiAodGhpcy5wb2xsLnJlc3VsdHMuZmluZChmdW5jdGlvbiAobykgewogICAgICAgIHJldHVybiBvLmlkID09PSBvcHRpb24uaWQ7CiAgICAgIH0pIHx8IHsKICAgICAgICB2b3Rlcl9jb3VudDogMAogICAgICB9KS52b3Rlcl9jb3VudCA+IDA7CiAgICB9LAogICAgc2V0UG9sbE9wdGlvblByaW9yaXR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpOwogICAgICBpID0gMDsKICAgICAgdGhpcy5wb2xsT3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG8ucHJpb3JpdHkgPSAwOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMudmlzaWJsZVBvbGxPcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG8pIHsKICAgICAgICByZXR1cm4gby5wcmlvcml0eSA9IGkrKzsKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlT3B0aW9uOiBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgIGlmICh0aGlzLm9wdGlvbkhhc1ZvdGVzKG9wdGlvbikpIHsKICAgICAgICBpZiAoIWNvbmZpcm0oSTE4bi50KCJwb2xsX2NvbW1vbl9mb3JtLm9wdGlvbl9oYXNfdm90ZXNfY29uZmlybV9kZWxldGUiKSkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMubmV3T3B0aW9uID0gbnVsbDsKCiAgICAgIGlmIChvcHRpb24uaWQpIHsKICAgICAgICBvcHRpb24ubmFtZSA9ICcnOwogICAgICAgIG9wdGlvbi5tZWFuaW5nID0gJyc7CiAgICAgICAgcmV0dXJuIG9wdGlvblsnX2Rlc3Ryb3knXSA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMucG9sbE9wdGlvbnMgPSBfd2l0aG91dCh0aGlzLnBvbGxPcHRpb25zLCBvcHRpb24pOwogICAgICB9CiAgICB9LAogICAgYWRkRGF0ZU9wdGlvbjogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLm5ld09wdGlvbiA9IHRoaXMubmV3RGF0ZU9wdGlvbi50b0pTT04oKTsKICAgICAgcmV0dXJuIHRoaXMuYWRkT3B0aW9uKCk7CiAgICB9LAogICAgYWRkT3B0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBrbm93bk9wdGlvbiwgb3B0aW9uOwoKICAgICAgaWYgKF9zb21lKHRoaXMucG9sbE9wdGlvbnMsIG8gPT4gewogICAgICAgIHJldHVybiBvLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gdGhpcy5uZXdPcHRpb24udG9Mb3dlckNhc2UoKTsKICAgICAgfSkpIHsKICAgICAgICByZXR1cm4gRmxhc2guZXJyb3IoJ3BvbGxfcG9sbF9mb3JtLm9wdGlvbl9hbHJlYWR5X2FkZGVkJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAga25vd25PcHRpb24gPSB0aGlzLmtub3duT3B0aW9ucy5maW5kKG8gPT4gewogICAgICAgICAgcmV0dXJuIHRoaXMuJHQoby5uYW1lX2kxOG4pLnRvTG93ZXJDYXNlKCkgPT09IHRoaXMubmV3T3B0aW9uLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChrbm93bk9wdGlvbikgewogICAgICAgICAgdGhpcy5wb2xsT3B0aW9ucy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogdGhpcy5uZXdPcHRpb24sCiAgICAgICAgICAgIGljb246IGtub3duT3B0aW9uLmljb24sCiAgICAgICAgICAgIG1lYW5pbmc6IHRoaXMuJHQoa25vd25PcHRpb24ubWVhbmluZ19pMThuKSwKICAgICAgICAgICAgcHJvbXB0OiB0aGlzLiR0KGtub3duT3B0aW9uLnByb21wdF9pMThuKQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9wdGlvbiA9IHsKICAgICAgICAgICAgbmFtZTogdGhpcy5uZXdPcHRpb24sCiAgICAgICAgICAgIG1lYW5pbmc6ICcnLAogICAgICAgICAgICBwcm9tcHQ6ICcnLAogICAgICAgICAgICBpY29uOiAnYWdyZWUnCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5wb2xsT3B0aW9ucy5wdXNoKG9wdGlvbik7CgogICAgICAgICAgaWYgKHRoaXMucG9sbC5wb2xsVHlwZSA9PT0gJ3Byb3Bvc2FsJykgewogICAgICAgICAgICBGbGFzaC5zdWNjZXNzKCdwb2xsX2NvbW1vbl9mb3JtLm9wdGlvbl9hZGRlZF9wbGVhc2VfYWRkX2RldGFpbHMnKTsKICAgICAgICAgICAgdGhpcy5lZGl0T3B0aW9uKG9wdGlvbik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpcy5uZXdPcHRpb24gPSBudWxsOwogICAgICB9CiAgICB9LAogICAgZWRpdE9wdGlvbjogZnVuY3Rpb24gKG9wdGlvbikgewogICAgICByZXR1cm4gRXZlbnRCdXMuJGVtaXQoJ29wZW5Nb2RhbCcsIHsKICAgICAgICBjb21wb25lbnQ6ICdQb2xsT3B0aW9uRm9ybScsCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHBvbGxPcHRpb246IG9wdGlvbiwKICAgICAgICAgIHBvbGw6IHRoaXMucG9sbAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBhY3Rpb25OYW1lOwogICAgICBhY3Rpb25OYW1lID0gdGhpcy5wb2xsLmlzTmV3KCkgPyAnY3JlYXRlZCcgOiAndXBkYXRlZCc7CiAgICAgIHRoaXMucG9sbC5zZXRFcnJvcnMoe30pOwogICAgICB0aGlzLnNldFBvbGxPcHRpb25Qcmlvcml0eSgpOwogICAgICB0aGlzLnBvbGwucG9sbE9wdGlvbnNBdHRyaWJ1dGVzID0gdGhpcy5wb2xsT3B0aW9uczsKICAgICAgcmV0dXJuIHRoaXMucG9sbC5zYXZlKCkudGhlbihkYXRhID0+IHsKICAgICAgICB2YXIgcG9sbDsKICAgICAgICBwb2xsID0gUmVjb3Jkcy5wb2xscy5maW5kKGRhdGEucG9sbHNbMF0uaWQpOwoKICAgICAgICBpZiAodGhpcy5yZWRpcmVjdE9uU2F2ZSkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UodGhpcy51cmxGb3IocG9sbCkpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZVN1Y2Nlc3MnLCBwb2xsKTsKICAgICAgICBGbGFzaC5zdWNjZXNzKCJwb2xsX2NvbW1vbl9mb3JtLnBvbGxfdHlwZV9zdGFydGVkIiwgewogICAgICAgICAgcG9sbF90eXBlOiBwb2xsLnRyYW5zbGF0ZWRQb2xsVHlwZUNhcHMoKQogICAgICAgIH0pOwoKICAgICAgICBpZiAoYWN0aW9uTmFtZSA9PT0gJ2NyZWF0ZWQnKSB7CiAgICAgICAgICByZXR1cm4gRXZlbnRCdXMuJGVtaXQoJ29wZW5Nb2RhbCcsIHsKICAgICAgICAgICAgY29tcG9uZW50OiAnUG9sbE1lbWJlcnMnLAogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIHBvbGw6IHBvbGwKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgRmxhc2gud2FybmluZygncG9sbF9jb21tb25fZm9ybS5wbGVhc2VfcmV2aWV3X3RoZV9mb3JtJyk7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB2b3RpbmdNZXRob2RzSXRlbXM6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudm90aW5nTWV0aG9kc0kxOG4pLm1hcChrZXkgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiB0aGlzLiR0KHRoaXMudm90aW5nTWV0aG9kc0kxOG5ba2V5XS50aXRsZSksCiAgICAgICAgICB2YWx1ZToga2V5CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAga25vd25PcHRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBBcHBDb25maWcucG9sbFR5cGVzW3RoaXMucG9sbC5wb2xsVHlwZV0uY29tbW9uX3BvbGxfb3B0aW9ucyB8fCBbXTsKICAgIH0sCiAgICBmb3JtYXR0ZWREdXJhdGlvbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZHVyYXRpb24sIG1pbnV0ZXM7CgogICAgICBpZiAoIXRoaXMucG9sbC5tZWV0aW5nRHVyYXRpb24pIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIG1pbnV0ZXMgPSBwYXJzZUludCh0aGlzLnBvbGwubWVldGluZ0R1cmF0aW9uKTsKICAgICAgZHVyYXRpb24gPSBpbnRlcnZhbFRvRHVyYXRpb24oewogICAgICAgIHN0YXJ0OiBuZXcgRGF0ZSgpLAogICAgICAgIGVuZDogYWRkTWludXRlcyhuZXcgRGF0ZSgpLCBtaW51dGVzKQogICAgICB9KTsKICAgICAgcmV0dXJuIGZvcm1hdER1cmF0aW9uKGR1cmF0aW9uLCB7CiAgICAgICAgZm9ybWF0OiBbJ2hvdXJzJywgJ21pbnV0ZXMnXQogICAgICB9KTsKICAgIH0sCiAgICB2aXNpYmxlUG9sbE9wdGlvbnM6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucG9sbE9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuICFvLl9kZXN0cm95OwogICAgICB9KTsKICAgIH0sCiAgICBoYXNPcHRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnBvbGwuY29uZmlnKCkuaGFzX29wdGlvbnM7CiAgICB9LAogICAgbWluT3B0aW9uczogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5wb2xsLmNvbmZpZygpLm1pbl9vcHRpb25zOwogICAgfSwKICAgIGFsbG93QW5vbnltb3VzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAhdGhpcy5wb2xsLmNvbmZpZygpLnByZXZlbnRfYW5vbnltb3VzOwogICAgfSwKICAgIHN0YW5jZVJlYXNvblJlcXVpcmVkSXRlbXM6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgdGV4dDogdGhpcy4kdCgncG9sbF9jb21tb25fZm9ybS5zdGFuY2VfcmVhc29uX3JlcXVpcmVkJyksCiAgICAgICAgdmFsdWU6ICdyZXF1aXJlZCcKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ3BvbGxfY29tbW9uX2Zvcm0uc3RhbmNlX3JlYXNvbl9vcHRpb25hbCcpLAogICAgICAgIHZhbHVlOiAnb3B0aW9uYWwnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdwb2xsX2NvbW1vbl9mb3JtLnN0YW5jZV9yZWFzb25fZGlzYWJsZWQnKSwKICAgICAgICB2YWx1ZTogJ2Rpc2FibGVkJwogICAgICB9XTsKICAgIH0sCiAgICB0aXRsZVBhdGg6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucG9sbC5pc05ldygpICYmICdhY3Rpb25fZG9jay5uZXdfcG9sbF90eXBlJyB8fCAnYWN0aW9uX2RvY2suZWRpdF9wb2xsX3R5cGUnOwogICAgfSwKICAgIHRpdGxlQXJnczogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gewogICAgICAgIHBvbGxUeXBlOiB0aGlzLnBvbGwudHJhbnNsYXRlZFBvbGxUeXBlKCkudG9Mb3dlckNhc2UoKQogICAgICB9OwogICAgfSwKICAgIGNsb3Nlc1Nvb246IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICEodGhpcy5wb2xsLmNsb3NpbmdBdCAmJiBpc0FmdGVyKHRoaXMucG9sbC5jbG9zaW5nQXQsIGFkZEhvdXJzKG5ldyBEYXRlKCksIDI0KSkpOwogICAgfSwKICAgIGNsb3NpbmdTb29uSXRlbXM6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICdub2JvZHkgYXV0aG9yIHVuZGVjaWRlZF92b3RlcnMgdm90ZXJzJy5zcGxpdCgnICcpLm1hcChuYW1lID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdGV4dDogdGhpcy4kdChgcG9sbF9jb21tb25fc2V0dGluZ3Mubm90aWZ5X29uX2Nsb3Npbmdfc29vbi4ke25hbWV9YCksCiAgICAgICAgICB2YWx1ZTogbmFtZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIG9wdGlvbkZvcm1hdDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5wb2xsLnBvbGxPcHRpb25OYW1lRm9ybWF0OwogICAgfSwKICAgIGhhc09wdGlvbkljb246IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucG9sbC5jb25maWcoKS5oYXNfb3B0aW9uX2ljb247CiAgICB9LAogICAgaTE4bkl0ZW1zOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfY29tcGFjdCgnYWdyZWUgYWJzdGFpbiBkaXNhZ3JlZSBjb25zZW50IG9iamVjdGlvbiBibG9jayB5ZXMgbm8nLnNwbGl0KCcgJykubWFwKG5hbWUgPT4gewogICAgICAgIGlmICh0aGlzLnBvbGwucG9sbE9wdGlvbk5hbWVzLmluY2x1ZGVzKG5hbWUpKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdwb2xsX3Byb3Bvc2FsX29wdGlvbnMuJyArIG5hbWUpLAogICAgICAgICAgdmFsdWU6IG5hbWUKICAgICAgICB9OwogICAgICB9KSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/components/poll/common/form.vue"],"names":[],"mappings":"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","sourcesContent":["\nimport AppConfig from '@/shared/services/app_config'\nimport Session from '@/shared/services/session'\nimport { compact, without, kebabCase, snakeCase, some } from 'lodash'\nimport Flash from '@/shared/services/flash'\nimport Records from '@/shared/services/records'\nimport EventBus from '@/shared/services/event_bus'\nimport AbilityService from '@/shared/services/ability_service'\nimport { addDays, addMinutes, intervalToDuration, formatDuration } from 'date-fns'\nimport { addHours, isAfter } from 'date-fns'\nimport PollCommonWipField from '@/components/poll/common/wip_field'\nimport PollTemplateInfoPanel  from '@/components/poll_template/info_panel'\nimport { HandleDirective } from 'vue-slicksort';\nimport { isSameYear, startOfHour, setHours }  from 'date-fns'\nimport I18n from '@/i18n'\n\nexport default\n  components: { PollCommonWipField, PollTemplateInfoPanel }\n  directives: { handle: HandleDirective }\n\n  props:\n    poll: Object\n    shouldReset: Boolean\n    redirectOnSave: Boolean\n\n  mounted: ->\n    Records.users.fetchGroups()\n    @watchRecords\n      collections: ['groups', 'memberships']\n      query: =>\n        @groupItems = [\n          {text: @$t('discussion_form.none_invite_only_thread'), value: null}\n        ].concat Session.user().groups().filter( (g) -> AbilityService.canStartPoll(g) ).map (g) ->\n          {text: g.fullName, value: g.id}\n\n  data: ->\n    newOption: null\n    lastPollType: @poll.pollType\n    pollOptions: @poll.pollOptionsAttributes || @poll.clonePollOptions()\n    groupItems: []\n    showAdvanced: false\n\n    votingMethodsI18n:\n      proposal: \n        title: 'poll_common_form.voting_methods.show_thumbs'\n        hint: 'poll_common_form.voting_methods.show_thumbs_hint'\n      poll: \n        title: 'poll_common_form.voting_methods.simple_poll'\n        hint: 'poll_common_form.voting_methods.choose_hint'\n      # meeting:\n      #   title: 'poll_common_form.voting_methods.time_poll'\n      #   hint: 'poll_common_form.voting_methods.time_poll_hint'\n      dot_vote:\n        title: 'decision_tools_card.dot_vote_title'\n        hint: 'poll_common_form.voting_methods.allocate_hint'\n      score: \n        title: 'poll_common_form.voting_methods.score'\n        hint: 'poll_common_form.voting_methods.score_hint'\n      ranked_choice:\n        title: 'poll_common_form.voting_methods.ranked_choice'\n        hint: 'poll_common_form.voting_methods.ranked_choice_hint'\n\n    chartTypeItems: [\n      {text: 'bar', value: 'bar'}\n      {text: 'pie', value: 'pie'}\n      {text: 'grid', value: 'grid'}\n    ]\n    currentHideResults: @poll.hideResults\n    hideResultsItems: [\n      { text: @$t('common.off'), value: 'off' }\n      { text: @$t('poll_common_card.until_you_vote'), value: 'until_vote' }\n      { text: @$t('poll_common_card.until_voting_is_closed'), value: 'until_closed' }\n    ]\n    newDateOption: startOfHour(setHours(new Date(), 12))\n    minDate: new Date()\n    closingAtWas: null\n\n  methods:\n    optionHasVotes: (option) ->\n      (@poll.results.find((o) -> o.id == option.id) || {voter_count: 0}).voter_count > 0\n\n    setPollOptionPriority: ->\n      i = 0\n      @pollOptions.forEach (o) -> o.priority = 0\n      @visiblePollOptions.forEach (o) -> o.priority = i++\n\n    removeOption: (option) ->\n      if @optionHasVotes(option)\n        return if !confirm(I18n.t(\"poll_common_form.option_has_votes_confirm_delete\"))\n\n      @newOption = null\n      if option.id\n        option.name = ''\n        option.meaning = ''\n        option['_destroy'] = 1\n      else\n        @pollOptions = without(@pollOptions, option)\n\n    addDateOption: ->\n      @newOption = @newDateOption.toJSON()\n      @addOption()\n\n    addOption: ->\n      if some(@pollOptions, (o) => o.name.toLowerCase() == @newOption.toLowerCase())\n        Flash.error('poll_poll_form.option_already_added')\n      else\n        knownOption = @knownOptions.find (o) =>\n          @$t(o.name_i18n).toLowerCase() == @newOption.toLowerCase()\n\n        if knownOption\n          @pollOptions.push\n            name: @newOption\n            icon:  knownOption.icon\n            meaning: @$t(knownOption.meaning_i18n)\n            prompt: @$t(knownOption.prompt_i18n)\n        else\n          option = \n            name: @newOption\n            meaning: ''\n            prompt: ''\n            icon: 'agree'\n          @pollOptions.push option\n          if @poll.pollType == 'proposal'\n            Flash.success('poll_common_form.option_added_please_add_details')\n            @editOption(option)\n\n        @newOption = null\n\n    editOption: (option) ->\n      EventBus.$emit 'openModal',\n        component: 'PollOptionForm'\n        props:\n          pollOption: option\n          poll: @poll\n\n    submit: ->\n      actionName = if @poll.isNew() then 'created' else 'updated'\n      @poll.setErrors({})\n      @setPollOptionPriority()\n      @poll.pollOptionsAttributes = @pollOptions\n      @poll.save()\n      .then (data) =>\n        poll = Records.polls.find(data.polls[0].id)\n        @$router.replace(@urlFor(poll)) if @redirectOnSave\n        @$emit('saveSuccess', poll)\n        Flash.success \"poll_common_form.poll_type_started\", {poll_type: poll.translatedPollTypeCaps()}\n        if actionName == 'created'\n          EventBus.$emit 'openModal',\n            component: 'PollMembers',\n            props:\n              poll: poll\n      .catch (error) =>\n        Flash.warning 'poll_common_form.please_review_the_form'\n        console.error error\n\n  computed:\n    votingMethodsItems: ->\n      Object.keys(@votingMethodsI18n).map (key) =>\n        {text: @$t(@votingMethodsI18n[key].title), value: key}\n\n    knownOptions: ->\n      (AppConfig.pollTypes[@poll.pollType].common_poll_options || [])\n\n    formattedDuration: -> \n      return '' unless @poll.meetingDuration\n      minutes = parseInt(@poll.meetingDuration)\n      duration = intervalToDuration({ start: new Date, end: addMinutes(new Date, minutes) })\n      formatDuration(duration, { format: ['hours', 'minutes'] })\n\n    visiblePollOptions: -> @pollOptions.filter (o) -> !o._destroy\n    \n    hasOptions: -> @poll.config().has_options\n    minOptions: -> @poll.config().min_options\n    allowAnonymous: -> !@poll.config().prevent_anonymous\n    stanceReasonRequiredItems: ->\n      [\n        {text: @$t('poll_common_form.stance_reason_required'), value: 'required'},\n        {text: @$t('poll_common_form.stance_reason_optional'), value: 'optional'},\n        {text: @$t('poll_common_form.stance_reason_disabled'), value: 'disabled'}\n      ]\n\n    titlePath: ->\n      (@poll.isNew() && 'action_dock.new_poll_type') || 'action_dock.edit_poll_type'\n\n    titleArgs: -> \n      {pollType: @poll.translatedPollType().toLowerCase()}\n\n    closesSoon: ->\n      !(@poll.closingAt && isAfter(@poll.closingAt, addHours(new Date(), 24)))\n\n    closingSoonItems: ->\n      'nobody author undecided_voters voters'.split(' ').map (name) =>\n        {text: @$t(\"poll_common_settings.notify_on_closing_soon.#{name}\"), value: name}\n\n    optionFormat: -> @poll.pollOptionNameFormat\n    hasOptionIcon: -> @poll.config().has_option_icon\n    i18nItems: -> \n      compact 'agree abstain disagree consent objection block yes no'.split(' ').map (name) =>\n        return null if @poll.pollOptionNames.includes(name)\n        text: @$t('poll_proposal_options.'+name)\n        value: name\n\n"],"sourceRoot":""}]}