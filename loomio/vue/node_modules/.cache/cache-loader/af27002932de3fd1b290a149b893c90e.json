{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/src/shared/services/stance_service.coffee","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/shared/services/stance_service.coffee","mtime":1706724415812},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIFN0YW5jZVNlcnZpY2U7CmltcG9ydCBBcHBDb25maWcgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvYXBwX2NvbmZpZyc7CmltcG9ydCBTZXNzaW9uIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3Nlc3Npb24nOwppbXBvcnQgUmVjb3JkcyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9yZWNvcmRzJzsKaW1wb3J0IEZsYXNoIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2ZsYXNoJzsKaW1wb3J0IEV2ZW50QnVzIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2V2ZW50X2J1cyc7CmltcG9ydCBBYmlsaXR5U2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9hYmlsaXR5X3NlcnZpY2UnOwppbXBvcnQgTG1vVXJsU2VydmljZSBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9sbW9fdXJsX3NlcnZpY2UnOwppbXBvcnQgb3Blbk1vZGFsIGZyb20gJ0Avc2hhcmVkL2hlbHBlcnMvb3Blbl9tb2RhbCc7CmltcG9ydCBSZXNjdWVVbnNhdmVkRWRpdHNTZXJ2aWNlIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3Jlc2N1ZV91bnNhdmVkX2VkaXRzX3NlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCBuZXcgKFN0YW5jZVNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7CiAgY2xhc3MgU3RhbmNlU2VydmljZSB7CiAgICBhY3Rpb25zKHN0YW5jZSwgdm0sIGV2ZW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcmVhY3Q6IHsKICAgICAgICAgIGRvY2s6IDEsCiAgICAgICAgICBjYW5QZXJmb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAhc3RhbmNlLmRpc2NhcmRlZEF0ICYmIHN0YW5jZS5jYXN0QXQgJiYgc3RhbmNlLnBvbGwoKS5tZW1iZXJzSW5jbHVkZShTZXNzaW9uLnVzZXIoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBlZGl0X3N0YW5jZTogewogICAgICAgICAgbmFtZTogc3RhbmNlLnBvbGwoKS5jb25maWcoKS5oYXNfb3B0aW9ucyAmJiAncG9sbF9jb21tb24uY2hhbmdlX3ZvdGUnIHx8ICdwb2xsX2NvbW1vbi5jaGFuZ2VfcmVzcG9uc2UnLAogICAgICAgICAgaWNvbjogJ21kaS1wZW5jaWwnLAogICAgICAgICAgZG9jazogMSwKICAgICAgICAgIGNhblBlcmZvcm06ICgpID0+IHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuVXBkYXRlU3RhbmNlKHN0YW5jZSk7CiAgICAgICAgICB9LAogICAgICAgICAgcGVyZm9ybTogKCkgPT4gewogICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVTdGFuY2Uoc3RhbmNlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFkZF9jb21tZW50OiB7CiAgICAgICAgICBuYW1lOiAnY29tbW9uLmFjdGlvbi5yZXBseScsCiAgICAgICAgICBpY29uOiAnbWRpLXJlcGx5JywKICAgICAgICAgIGRvY2s6IDEsCiAgICAgICAgICBjYW5QZXJmb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAhc3RhbmNlLnBvbGwoKS5hbm9ueW1vdXMgJiYgQWJpbGl0eVNlcnZpY2UuY2FuQWRkQ29tbWVudChzdGFuY2UucG9sbCgpLmRpc2N1c3Npb24oKSk7CiAgICAgICAgICB9LAogICAgICAgICAgcGVyZm9ybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoZXZlbnQuZGVwdGggPT09IHN0YW5jZS5kaXNjdXNzaW9uKCkubWF4RGVwdGgpIHsKICAgICAgICAgICAgICByZXR1cm4gRXZlbnRCdXMuJGVtaXQoJ3RvZ2dsZS1yZXBseScsIHN0YW5jZSwgZXZlbnQucGFyZW50SWQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiBFdmVudEJ1cy4kZW1pdCgndG9nZ2xlLXJlcGx5Jywgc3RhbmNlLCBldmVudC5pZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHVuY2FzdF9zdGFuY2U6IHsKICAgICAgICAgIG5hbWU6IHN0YW5jZS5wb2xsKCkuY29uZmlnKCkuaGFzX29wdGlvbnMgJiYgJ3BvbGxfY29tbW9uLnJlbW92ZV95b3VyX3ZvdGUnIHx8ICdwb2xsX2NvbW1vbi5yZW1vdmVfeW91cl9yZXNwb25zZScsCiAgICAgICAgICBpY29uOiAnbWRpLWNhbmNlbCcsCiAgICAgICAgICBkb2NrOiAxLAogICAgICAgICAgY2FuUGVyZm9ybTogKCkgPT4gewogICAgICAgICAgICByZXR1cm4gdGhpcy5jYW5VcGRhdGVTdGFuY2Uoc3RhbmNlKTsKICAgICAgICAgIH0sCiAgICAgICAgICBwZXJmb3JtOiAoKSA9PiB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuY2FzdFN0YW5jZShzdGFuY2UpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdHJhbnNsYXRlX3N0YW5jZTogewogICAgICAgICAgaWNvbjogJ21kaS10cmFuc2xhdGUnLAogICAgICAgICAgbmFtZTogJ2NvbW1vbi5hY3Rpb24udHJhbnNsYXRlJywKICAgICAgICAgIGRvY2s6IDIsCiAgICAgICAgICBjYW5QZXJmb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBzdGFuY2UuYXV0aG9yKCkgJiYgU2Vzc2lvbi51c2VyKCkgJiYgc3RhbmNlLmF1dGhvcigpLmxvY2FsZSAhPT0gU2Vzc2lvbi51c2VyKCkubG9jYWxlICYmIEFiaWxpdHlTZXJ2aWNlLmNhblRyYW5zbGF0ZShzdGFuY2UpOwogICAgICAgICAgfSwKICAgICAgICAgIHBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHN0YW5jZS50cmFuc2xhdGUoU2Vzc2lvbi51c2VyKCkubG9jYWxlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNob3dfaGlzdG9yeTogewogICAgICAgICAgbmFtZTogJ2FjdGlvbl9kb2NrLmVkaXRlZCcsCiAgICAgICAgICBpY29uOiAnbWRpLWhpc3RvcnknLAogICAgICAgICAgZG9jazogMywKICAgICAgICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHN0YW5jZS5lZGl0ZWQoKTsKICAgICAgICAgIH0sCiAgICAgICAgICBwZXJmb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBvcGVuTW9kYWwoewogICAgICAgICAgICAgIGNvbXBvbmVudDogJ1JldmlzaW9uSGlzdG9yeU1vZGFsJywKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgbW9kZWw6IHN0YW5jZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgfQoKICAgIHVwZGF0ZVN0YW5jZShzdGFuY2UpIHsKICAgICAgcmV0dXJuIG9wZW5Nb2RhbCh7CiAgICAgICAgY29tcG9uZW50OiAnUG9sbENvbW1vbkVkaXRWb3RlTW9kYWwnLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBzdGFuY2U6IHN0YW5jZS5jbG9uZSgpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICB1bmNhc3RTdGFuY2Uoc3RhbmNlKSB7CiAgICAgIHJldHVybiBvcGVuTW9kYWwoewogICAgICAgIGNvbXBvbmVudDogJ0NvbmZpcm1Nb2RhbCcsCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIGNvbmZpcm06IHsKICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFJlY29yZHMucmVtb3RlLnBhdGNoKGBzdGFuY2VzLyR7c3RhbmNlLmlkfS91bmNhc3RgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGV4dDogewogICAgICAgICAgICAgIHRpdGxlOiAncG9sbF9yZW1vdmVfdm90ZS50aXRsZScsCiAgICAgICAgICAgICAgaGVscHRleHQ6ICdwb2xsX3JlbW92ZV92b3RlLmhlbHB0ZXh0JywKICAgICAgICAgICAgICBzdWJtaXQ6ICdwb2xsX3JlbW92ZV92b3RlLmNvbmZpcm0nLAogICAgICAgICAgICAgIGZsYXNoOiAncG9sbF9yZW1vdmVfdm90ZS5zdWNjZXNzJwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBjYW5VcGRhdGVTdGFuY2Uoc3RhbmNlKSB7CiAgICAgIHJldHVybiBzdGFuY2UgJiYgc3RhbmNlLmxhdGVzdCAmJiBzdGFuY2UucG9sbCgpLm15U3RhbmNlSWQgPT09IHN0YW5jZS5pZCAmJiBzdGFuY2UucG9sbCgpLmlzVm90YWJsZSgpICYmIHN0YW5jZS5wb2xsKCkuaUhhdmVWb3RlZCgpOwogICAgfQoKICB9CgogIDsKICBTdGFuY2VTZXJ2aWNlLnByb3RvdHlwZS5tYWtlQWRtaW4gPSB7CiAgICBuYW1lOiAnbWVtYmVyc2hpcF9kcm9wZG93bi5tYWtlX2Nvb3JkaW5hdG9yJywKICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uIChwb2xsLCB1c2VyKSB7CiAgICAgIHJldHVybiBwb2xsLmFkbWluc0luY2x1ZGUoU2Vzc2lvbi51c2VyKCkpICYmICFwb2xsLmFkbWluc0luY2x1ZGUodXNlcik7CiAgICB9LAogICAgcGVyZm9ybTogZnVuY3Rpb24gKHBvbGwsIHVzZXIpIHsKICAgICAgcmV0dXJuIFJlY29yZHMucmVtb3RlLnBvc3QoJ3N0YW5jZXMvbWFrZV9hZG1pbicsIHsKICAgICAgICBwYXJ0aWNpcGFudF9pZDogdXNlci5pZCwKICAgICAgICBwb2xsX2lkOiBwb2xsLmlkLAogICAgICAgIGV4Y2x1ZGVfdHlwZXM6ICdkaXNjdXNzaW9uJwogICAgICB9KTsKICAgIH0KICB9OwogIFN0YW5jZVNlcnZpY2UucHJvdG90eXBlLnJlbW92ZUFkbWluID0gewogICAgbmFtZTogJ21lbWJlcnNoaXBfZHJvcGRvd24uZGVtb3RlX2Nvb3JkaW5hdG9yJywKICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uIChwb2xsLCB1c2VyKSB7CiAgICAgIHJldHVybiBwb2xsLmFkbWluc0luY2x1ZGUoU2Vzc2lvbi51c2VyKCkpICYmIHBvbGwuYWRtaW5zSW5jbHVkZSh1c2VyKTsKICAgIH0sCiAgICBwZXJmb3JtOiBmdW5jdGlvbiAocG9sbCwgdXNlcikgewogICAgICByZXR1cm4gUmVjb3Jkcy5yZW1vdGUucG9zdCgnc3RhbmNlcy9yZW1vdmVfYWRtaW4nLCB7CiAgICAgICAgcGFydGljaXBhbnRfaWQ6IHVzZXIuaWQsCiAgICAgICAgcG9sbF9pZDogcG9sbC5pZCwKICAgICAgICBleGNsdWRlX3R5cGVzOiAnZGlzY3Vzc2lvbicKICAgICAgfSk7CiAgICB9CiAgfTsKICBTdGFuY2VTZXJ2aWNlLnByb3RvdHlwZS5yZXZva2UgPSB7CiAgICBuYW1lOiAnbWVtYmVyc2hpcF9kcm9wZG93bi5yZW1vdmVfZnJvbS5wb2xsJywKICAgIGNhblBlcmZvcm06IGZ1bmN0aW9uIChwb2xsLCB1c2VyKSB7CiAgICAgIHJldHVybiBwb2xsLmFkbWluc0luY2x1ZGUoU2Vzc2lvbi51c2VyKCkpOwogICAgfSwKICAgIHBlcmZvcm06IGZ1bmN0aW9uIChwb2xsLCB1c2VyKSB7CiAgICAgIHJldHVybiBSZWNvcmRzLnJlbW90ZS5wb3N0KCdzdGFuY2VzL3Jldm9rZScsIHsKICAgICAgICBwYXJ0aWNpcGFudF9pZDogdXNlci5pZCwKICAgICAgICBwb2xsX2lkOiBwb2xsLmlkCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGlmICh1c2VyLmlkID09PSBTZXNzaW9uLnVzZXIoKS5pZCkgewogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RlbGV0ZU15U3RhbmNlJywgcG9sbC5pZCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gRmxhc2guc3VjY2VzcygibWVtYmVyc2hpcF9yZW1vdmVfbW9kYWwuaW52aXRhdGlvbi5mbGFzaCIpOwogICAgICB9KTsKICAgIH0KICB9OwogIHJldHVybiBTdGFuY2VTZXJ2aWNlOwp9LmNhbGwodGhpcykpKCk7"},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/shared/services/stance_service.coffee"],"names":[],"mappings":"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","sourcesContent":["import AppConfig        from '@/shared/services/app_config'\nimport Session       from '@/shared/services/session'\nimport Records       from '@/shared/services/records'\nimport Flash         from '@/shared/services/flash'\nimport EventBus       from '@/shared/services/event_bus'\nimport AbilityService from '@/shared/services/ability_service'\nimport LmoUrlService  from '@/shared/services/lmo_url_service'\nimport openModal      from '@/shared/helpers/open_modal'\nimport RescueUnsavedEditsService from '@/shared/services/rescue_unsaved_edits_service'\n\nexport default new class StanceService\n  actions: (stance, vm, event) ->\n    react:\n      dock: 1\n      canPerform: ->\n        !stance.discardedAt && stance.castAt &&\n        stance.poll().membersInclude(Session.user())\n\n    edit_stance:\n      name: (stance.poll().config().has_options && 'poll_common.change_vote') || 'poll_common.change_response'\n      icon: 'mdi-pencil'\n      dock: 1\n      canPerform: => @canUpdateStance(stance)\n      perform: => @updateStance(stance)\n\n    add_comment:\n      name: 'common.action.reply'\n      icon: 'mdi-reply'\n      dock: 1\n      canPerform: -> \n        !stance.poll().anonymous &&\n        AbilityService.canAddComment(stance.poll().discussion())\n      perform: ->\n        if event.depth == stance.discussion().maxDepth\n          EventBus.$emit('toggle-reply', stance, event.parentId)\n        else\n          EventBus.$emit('toggle-reply', stance, event.id)\n\n    uncast_stance:\n      name: (stance.poll().config().has_options && 'poll_common.remove_your_vote') || 'poll_common.remove_your_response'\n      icon: 'mdi-cancel'\n      dock: 1\n      canPerform: => @canUpdateStance(stance)\n      perform: => @uncastStance(stance)\n\n    translate_stance:\n      icon: 'mdi-translate'\n      name: 'common.action.translate'\n      dock: 2\n      canPerform: ->\n        (stance.author() && Session.user()) &&\n        stance.author().locale != Session.user().locale &&\n        AbilityService.canTranslate(stance)\n      perform: ->\n        stance.translate(Session.user().locale)\n\n    show_history:\n      name: 'action_dock.edited'\n      icon: 'mdi-history'\n      dock: 3\n      canPerform: -> stance.edited()\n      perform: ->\n        openModal\n          component: 'RevisionHistoryModal'\n          props:\n            model: stance\n\n  updateStance: (stance) ->\n    openModal\n      component: 'PollCommonEditVoteModal',\n      props:\n        stance: stance.clone()\n        \n  uncastStance: (stance) ->\n    openModal\n      component: 'ConfirmModal',\n      props:\n        confirm:\n          submit: ->\n            Records.remote.patch(\"stances/#{stance.id}/uncast\")\n          text:\n            title: 'poll_remove_vote.title'\n            helptext: 'poll_remove_vote.helptext'\n            submit: 'poll_remove_vote.confirm'\n            flash: 'poll_remove_vote.success'\n\n  canUpdateStance: (stance) ->\n    stance &&\n    stance.latest &&\n    stance.poll().myStanceId == stance.id &&\n    stance.poll().isVotable() && \n    stance.poll().iHaveVoted()\n\n  makeAdmin:\n    name: 'membership_dropdown.make_coordinator'\n    canPerform: (poll, user) ->\n      poll.adminsInclude(Session.user()) && !poll.adminsInclude(user)\n    perform: (poll, user) ->\n      Records.remote.post 'stances/make_admin', participant_id: user.id, poll_id: poll.id, exclude_types: 'discussion'\n\n  removeAdmin:\n    name: 'membership_dropdown.demote_coordinator'\n    canPerform: (poll, user) ->\n      poll.adminsInclude(Session.user()) && poll.adminsInclude(user)\n    perform: (poll, user) ->\n      Records.remote.post('stances/remove_admin', participant_id: user.id, poll_id: poll.id, exclude_types: 'discussion')\n\n  revoke:\n    name: 'membership_dropdown.remove_from.poll'\n    canPerform: (poll, user) ->\n      poll.adminsInclude(Session.user())\n    perform: (poll, user) ->\n      Records.remote.post 'stances/revoke', {participant_id: user.id, poll_id: poll.id}\n      .then =>\n        if user.id == Session.user().id\n          EventBus.$emit('deleteMyStance', poll.id) \n        Flash.success \"membership_remove_modal.invitation.flash\"\n"],"sourceRoot":""}]}