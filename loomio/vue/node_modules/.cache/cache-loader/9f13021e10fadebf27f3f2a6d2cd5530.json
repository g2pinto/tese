{"remainingRequest":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js!/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!/home/gustavo/Documents/tese/loomio/vue/src/components/group/tags_panel.vue?vue&type=script&lang=coffee&","dependencies":[{"path":"/home/gustavo/Documents/tese/loomio/vue/src/components/group/tags_panel.vue","mtime":1706724415800},{"path":"/home/gustavo/Documents/tese/loomio/vue/.babelrc","mtime":1706724415792},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/cache-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/babel-loader/lib/index.js","mtime":1706724500796},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/vue-cli-plugin-coffee/node_modules/coffee-loader/dist/cjs.js","mtime":1706724497848},{"path":"/home/gustavo/Documents/tese/loomio/vue/node_modules/@vue/vue-loader-v15/lib/index.js","mtime":1706724499784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFwcENvbmZpZyBmcm9tICdAL3NoYXJlZC9zZXJ2aWNlcy9hcHBfY29uZmlnJzsKaW1wb3J0IEFiaWxpdHlTZXJ2aWNlIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL2FiaWxpdHlfc2VydmljZSc7CmltcG9ydCBSZWNvcmRzIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3JlY29yZHMnOwppbXBvcnQgUmVjb3JkTG9hZGVyIGZyb20gJ0Avc2hhcmVkL3NlcnZpY2VzL3JlY29yZF9sb2FkZXInOwppbXBvcnQgRXZlbnRCdXMgZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvZXZlbnRfYnVzJzsKaW1wb3J0IFNlc3Npb24gZnJvbSAnQC9zaGFyZWQvc2VydmljZXMvc2Vzc2lvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBncm91cDogbnVsbCwKICAgICAgcG9sbHNMb2FkZXI6IG51bGwsCiAgICAgIGRpc2N1c3Npb25zTG9hZGVyOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5pbml0KCk7CiAgICByZXR1cm4gdGhpcy53YXRjaFJlY29yZHMoewogICAgICBjb2xsZWN0aW9uczogWydwb2xscycsICdncm91cHMnLCAnZGlzY3Vzc2lvbnMnXSwKICAgICAgcXVlcnk6ICgpID0+IHsKICAgICAgICByZXR1cm4gdGhpcy5maW5kUmVjb3JkcygpOwogICAgICB9CiAgICB9KTsKICB9LAogIHdhdGNoOiB7CiAgICAnJHJvdXRlLnBhcmFtcy50YWcnOiAnaW5pdCcKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5ncm91cCA9IFJlY29yZHMuZ3JvdXBzLmZpbmQodGhpcy4kcm91dGUucGFyYW1zLmtleSk7CiAgICAgIHRoaXMucG9sbHNMb2FkZXIgPSBuZXcgUmVjb3JkTG9hZGVyKHsKICAgICAgICBjb2xsZWN0aW9uOiAncG9sbHMnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZ3JvdXBfaWQ6IHRoaXMuZ3JvdXAuaWQsCiAgICAgICAgICB0YWdzOiB0aGlzLiRyb3V0ZS5wYXJhbXMudGFnLAogICAgICAgICAgc3ViZ3JvdXBzOiAnYWxsJwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZGlzY3Vzc2lvbnNMb2FkZXIgPSBuZXcgUmVjb3JkTG9hZGVyKHsKICAgICAgICBjb2xsZWN0aW9uOiAnZGlzY3Vzc2lvbnMnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZmlsdGVyOiAnYWxsJywKICAgICAgICAgIHRhZ3M6IHRoaXMuJHJvdXRlLnBhcmFtcy50YWcsCiAgICAgICAgICBncm91cF9pZDogdGhpcy5ncm91cC5pZCwKICAgICAgICAgIHN1Ymdyb3VwczogJ2FsbCcKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnBvbGxzTG9hZGVyLmZldGNoUmVjb3JkcygpOwogICAgICB0aGlzLmRpc2N1c3Npb25zTG9hZGVyLmZldGNoUmVjb3JkcygpOwogICAgICByZXR1cm4gdGhpcy5maW5kUmVjb3JkcygpOwogICAgfSwKICAgIGZpbmRSZWNvcmRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucG9sbHMgPSBSZWNvcmRzLnBvbGxzLmNvbGxlY3Rpb24uY2hhaW4oKS5maW5kKHsKICAgICAgICBncm91cElkOiB7CiAgICAgICAgICAkaW46IHRoaXMuZ3JvdXAuc2VsZkFuZFN1Ymdyb3VwSWRzKCkKICAgICAgICB9CiAgICAgIH0pLmZpbmQoewogICAgICAgIHRhZ3M6IHsKICAgICAgICAgICRjb250YWluczogdGhpcy4kcm91dGUucGFyYW1zLnRhZwogICAgICAgIH0KICAgICAgfSkuZmluZCh7CiAgICAgICAgZGlzY2FyZGVkQXQ6IG51bGwKICAgICAgfSkuc2ltcGxlc29ydCgnY3JlYXRlZEF0JywgdHJ1ZSkuZGF0YSgpOwogICAgICByZXR1cm4gdGhpcy5kaXNjdXNzaW9ucyA9IFJlY29yZHMuZGlzY3Vzc2lvbnMuY29sbGVjdGlvbi5jaGFpbigpLmZpbmQoewogICAgICAgIGdyb3VwSWQ6IHsKICAgICAgICAgICRpbjogdGhpcy5ncm91cC5zZWxmQW5kU3ViZ3JvdXBJZHMoKQogICAgICAgIH0KICAgICAgfSkuZmluZCh7CiAgICAgICAgdGFnczogewogICAgICAgICAgJGNvbnRhaW5zOiB0aGlzLiRyb3V0ZS5wYXJhbXMudGFnCiAgICAgICAgfQogICAgICB9KS5maW5kKHsKICAgICAgICBkaXNjYXJkZWRBdDogbnVsbAogICAgICB9KS5zaW1wbGVzb3J0KCdsYXN0QWN0aXZpdHlBdCcsIHRydWUpLmRhdGEoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/gustavo/Documents/tese/loomio/vue/src/components/group/tags_panel.vue"],"names":[],"mappings":"AACA,OAAA,SAAA,MAAA,8BAAA;AACA,OAAA,cAAA,MAAA,mCAAA;AACA,OAAA,OAAA,MAAA,2BAAA;AACA,OAAA,YAAA,MAAA,iCAAA;AACA,OAAA,QAAA,MAAA,6BAAA;AACA,OAAA,OAAA,MAAA,2BAAA;AAGA,eACE;AAAA,EAAA,IAAA,EAAM,YAAA;WACJ;AAAA,MAAA,KAAA,EAAA,IAAA;AACA,MAAA,WAAA,EADA,IAAA;AAEA,MAAA,iBAAA,EAAmB;AAFnB,K;AADF,GAAA;AAKA,EAAA,OAAA,EAAS,YAAA;AACP,SAAA,IAAA;WAEA,KAAA,YAAA,CACE;AAAA,MAAA,WAAA,EAAa,CAAA,OAAA,EAAA,QAAA,EAAb,aAAa,CAAb;AACA,MAAA,KAAA,EAAO,MAAA;eAAG,KAAA,WAAA,E;AAAH;AADP,KADF,C;AARF,GAAA;AAYA,EAAA,KAAA,EACE;AAAA,yBAAqB;AAArB,GAbF;AAeA,EAAA,OAAA,EACE;AAAA,IAAA,IAAA,EAAM,YAAA;AACJ,WAAA,KAAA,GAAS,OAAO,CAAC,MAAR,CAAA,IAAA,CAAoB,KAAC,MAAD,CAAQ,MAAR,CAApB,GAAA,CAAT;AAEA,WAAA,WAAA,GAAe,IAAA,YAAA,CACb;AAAA,QAAA,UAAA,EAAA,OAAA;AACA,QAAA,MAAA,EACE;AAAA,UAAA,QAAA,EAAU,KAAC,KAAD,CAAV,EAAA;AACA,UAAA,IAAA,EAAM,KAAC,MAAD,CAAQ,MAAR,CADN,GAAA;AAEA,UAAA,SAAA,EAAW;AAFX;AAFF,OADa,CAAf;AAOA,WAAA,iBAAA,GAAqB,IAAA,YAAA,CACnB;AAAA,QAAA,UAAA,EAAA,aAAA;AACA,QAAA,MAAA,EACE;AAAA,UAAA,MAAA,EAAA,KAAA;AACA,UAAA,IAAA,EAAM,KAAC,MAAD,CAAQ,MAAR,CADN,GAAA;AAEA,UAAA,QAAA,EAAU,KAAC,KAAD,CAFV,EAAA;AAGA,UAAA,SAAA,EAAW;AAHX;AAFF,OADmB,CAArB;AAQA,WAAC,WAAD,CAAA,YAAA;AACA,WAAC,iBAAD,CAAA,YAAA;aACA,KAAA,WAAA,E;AApBF,KAAA;AAsBA,IAAA,WAAA,EAAa,YAAA;AACX,WAAA,KAAA,GAAS,OAAO,CAAC,KAAR,CAAc,UAAd,CAAA,KAAA,GAAA,IAAA,CACM;AAAA,QAAA,OAAA,EAAS;AAAC,UAAA,GAAA,EAAK,KAAC,KAAD,CAAA,kBAAA;AAAN;AAAT,OADN,EAAA,IAAA,CAEM;AAAA,QAAA,IAAA,EAAM;AAAC,UAAA,SAAA,EAAW,KAAC,MAAD,CAAQ,MAAR,CAAe;AAA3B;AAAN,OAFN,EAAA,IAAA,CAGM;AAAA,QAAA,WAAA,EAAa;AAAb,OAHN,EAAA,UAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,EAAT;aAMA,KAAA,WAAA,GAAe,OAAO,CAAC,WAAR,CAAoB,UAApB,CAAA,KAAA,GAAA,IAAA,CACA;AAAA,QAAA,OAAA,EAAS;AAAC,UAAA,GAAA,EAAK,KAAC,KAAD,CAAA,kBAAA;AAAN;AAAT,OADA,EAAA,IAAA,CAEA;AAAA,QAAA,IAAA,EAAM;AAAC,UAAA,SAAA,EAAW,KAAC,MAAD,CAAQ,MAAR,CAAe;AAA3B;AAAN,OAFA,EAAA,IAAA,CAGA;AAAA,QAAA,WAAA,EAAa;AAAb,OAHA,EAAA,UAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,IAAA,E;AAPJ;AAtBb;AAhBF,CADF","sourcesContent":["\nimport AppConfig from '@/shared/services/app_config'\nimport AbilityService from '@/shared/services/ability_service'\nimport Records from '@/shared/services/records'\nimport RecordLoader from '@/shared/services/record_loader'\nimport EventBus from '@/shared/services/event_bus'\nimport Session from '@/shared/services/session'\nimport { debounce, some, every, compact, omit, values, keys, intersection } from 'lodash'\n\nexport default\n  data: ->\n    group: null\n    pollsLoader: null\n    discussionsLoader: null\n\n  created: ->\n    @init()\n\n    @watchRecords\n      collections: ['polls', 'groups', 'discussions']\n      query: => @findRecords()\n\n  watch:\n    '$route.params.tag': 'init'\n\n  methods:\n    init: ->\n      @group = Records.groups.find(@$route.params.key)\n\n      @pollsLoader = new RecordLoader\n        collection: 'polls'\n        params:\n          group_id: @group.id\n          tags: @$route.params.tag\n          subgroups: 'all'\n\n      @discussionsLoader = new RecordLoader\n        collection: 'discussions'\n        params:\n          filter: 'all'\n          tags: @$route.params.tag\n          group_id: @group.id\n          subgroups: 'all'\n\n      @pollsLoader.fetchRecords()\n      @discussionsLoader.fetchRecords()\n      @findRecords()\n\n    findRecords: ->\n      @polls = Records.polls.collection.chain().\n                find(groupId: {$in: @group.selfAndSubgroupIds()}).\n                find(tags: {$contains: @$route.params.tag}).\n                find(discardedAt: null).\n                simplesort('createdAt', true).data()\n\n      @discussions = Records.discussions.collection.chain().\n                find(groupId: {$in: @group.selfAndSubgroupIds()}).\n                find(tags: {$contains: @$route.params.tag}).\n                find(discardedAt: null).\n                simplesort('lastActivityAt', true).data()\n\n"],"sourceRoot":""}]}