{"ast":null,"code":"import Mention from '@tiptap/extension-mention';\nimport { Node, mergeAttributes } from '@tiptap/core';\nimport Suggestion, { SuggestionOptions } from '@tiptap/suggestion';\n// getLabel(dom) {\n//   return dom.innerText.split(this.options.matcher.char).join('')\n// }\nexport const CustomMention = Mention.extend({\n  addAttributes() {\n    return {\n      id: {\n        default: null,\n        parseHTML: element => element.getAttribute('data-mention-id'),\n        renderHTML: attributes => ({\n          'data-mention-id': attributes.id\n        })\n      },\n      label: {\n        default: null,\n        parseHTML: element => element.getAttribute('data-label') || element.innerText.split('@').join('')\n      }\n    };\n  },\n  renderHTML({\n    node,\n    HTMLAttributes\n  }) {\n    return ['span', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), `@${node.attrs.label}`];\n  },\n  parseHTML() {\n    return [{\n      tag: 'span[data-mention-id]'\n    }];\n  }\n});","map":{"version":3,"names":["Mention","Node","mergeAttributes","Suggestion","SuggestionOptions","CustomMention","extend","addAttributes","id","default","parseHTML","element","getAttribute","renderHTML","attributes","label","innerText","split","join","node","HTMLAttributes","options","attrs","tag"],"sources":["/home/gustavo/Documents/tese/loomio/vue/src/components/lmo_textarea/extension_mention.js"],"sourcesContent":["import Mention from '@tiptap/extension-mention'\nimport { Node, mergeAttributes } from '@tiptap/core'\nimport Suggestion, { SuggestionOptions } from '@tiptap/suggestion'\n// getLabel(dom) {\n//   return dom.innerText.split(this.options.matcher.char).join('')\n// }\nexport const CustomMention = Mention.extend({\n  addAttributes() {\n    return {\n      id: {\n        default: null,\n        parseHTML: element => ( element.getAttribute('data-mention-id') ),\n        renderHTML: attributes => ( { 'data-mention-id': attributes.id } ),\n      },\n      label: {\n        default: null,\n        parseHTML: element => ( element.getAttribute('data-label') || element.innerText.split('@').join('') )\n      },\n    }\n  },\n  renderHTML({ node, HTMLAttributes }) {\n    return ['span', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), `@${node.attrs.label}`]\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'span[data-mention-id]',\n      },\n    ]\n  },\n})\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,2BAA2B;AAC/C,SAASC,IAAI,EAAEC,eAAe,QAAQ,cAAc;AACpD,OAAOC,UAAU,IAAIC,iBAAiB,QAAQ,oBAAoB;AAClE;AACA;AACA;AACA,OAAO,MAAMC,aAAa,GAAGL,OAAO,CAACM,MAAM,CAAC;EAC1CC,aAAaA,CAAA,EAAG;IACd,OAAO;MACLC,EAAE,EAAE;QACFC,OAAO,EAAE,IAAI;QACbC,SAAS,EAAEC,OAAO,IAAMA,OAAO,CAACC,YAAY,CAAC,iBAAiB,CAAG;QACjEC,UAAU,EAAEC,UAAU,KAAM;UAAE,iBAAiB,EAAEA,UAAU,CAACN;QAAG,CAAC;MAClE,CAAC;MACDO,KAAK,EAAE;QACLN,OAAO,EAAE,IAAI;QACbC,SAAS,EAAEC,OAAO,IAAMA,OAAO,CAACC,YAAY,CAAC,YAAY,CAAC,IAAID,OAAO,CAACK,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,EAAE;MACpG;IACF,CAAC;EACH,CAAC;EACDL,UAAUA,CAAC;IAAEM,IAAI;IAAEC;EAAe,CAAC,EAAE;IACnC,OAAO,CAAC,MAAM,EAAElB,eAAe,CAAC,IAAI,CAACmB,OAAO,CAACD,cAAc,EAAEA,cAAc,CAAC,EAAG,IAAGD,IAAI,CAACG,KAAK,CAACP,KAAM,EAAC,CAAC;EACvG,CAAC;EAEDL,SAASA,CAAA,EAAG;IACV,OAAO,CACL;MACEa,GAAG,EAAE;IACP,CAAC,CACF;EACH;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}