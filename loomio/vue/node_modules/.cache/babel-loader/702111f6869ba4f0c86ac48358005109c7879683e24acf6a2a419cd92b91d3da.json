{"ast":null,"code":"// here is a test script I used to understand if I got the sorting right\n// https://rawgit.com/techfort/LokiJS/master/examples/sandbox/LokiSandbox.htm\n// testdb = new loki('test.db');\n// events = testdb.addCollection('events', {indices: ['key']});\n//\n// input = [\n//   {key: '001'},\n//   {key: '001-001'},\n//   {key: '001-002'},\n//   {key: '002'},\n//   {key: '002-001'},\n// ]\n// events.insert(input)\n//\n// keys = events.chain().simplesort('key',  { useJavascriptSorting: true }).data().map( o => o.key)\n// logText('result')\n// logObject(keys)\n// logText('desired result')\n// logObject(input.map( o => o.key))\n\nimport loki from 'lokijs';\nvar cmp = function (a, b) {\n  if (a == b) return 0;\n  if (a < b) return -1;\n  return 1;\n};\n\n// attach aeq onto loki.Comparators\nloki.Comparators.aeq = function (a, b) {\n  return cmp(a, b) === 0;\n};\n\n// attach lt onto loki.Comparators\nloki.Comparators.lt = function (a, b, eq) {\n  var result = cmp(a, b);\n  switch (result) {\n    case -1:\n      return true;\n    case 0:\n      return eq;\n    case 1:\n      return false;\n  }\n};\n\n// attach gt onto loki.Comparators\nloki.Comparators.gt = function (a, b, eq) {\n  var result = cmp(a, b);\n  switch (result) {\n    case -1:\n      return false;\n    case 0:\n      return eq;\n    case 1:\n      return true;\n  }\n};\nexport default loki;","map":{"version":3,"names":["loki","cmp","a","b","Comparators","aeq","lt","eq","result","gt"],"sources":["/home/gustavo/Documents/tese/loomio/vue/src/shared/record_store/loki.js"],"sourcesContent":["\n// here is a test script I used to understand if I got the sorting right\n// https://rawgit.com/techfort/LokiJS/master/examples/sandbox/LokiSandbox.htm\n// testdb = new loki('test.db');\n// events = testdb.addCollection('events', {indices: ['key']});\n//\n// input = [\n//   {key: '001'},\n//   {key: '001-001'},\n//   {key: '001-002'},\n//   {key: '002'},\n//   {key: '002-001'},\n// ]\n// events.insert(input)\n//\n// keys = events.chain().simplesort('key',  { useJavascriptSorting: true }).data().map( o => o.key)\n// logText('result')\n// logObject(keys)\n// logText('desired result')\n// logObject(input.map( o => o.key))\n\nimport loki from 'lokijs'\n\nvar cmp = function(a, b) {\n  if (a == b) return 0;\n  if (a < b) return -1;\n  return 1;\n}\n\n// attach aeq onto loki.Comparators\nloki.Comparators.aeq = function(a, b) {\n  return cmp(a, b) === 0;\n}\n\n// attach lt onto loki.Comparators\nloki.Comparators.lt = function(a, b, eq) {\n\tvar result = cmp(a, b);\n\tswitch(result) {\n      case -1: return true;\n      case 0: return eq;\n      case 1: return false;\n    }\n}\n\n// attach gt onto loki.Comparators\nloki.Comparators.gt = function(a, b, eq) {\n  var result = cmp(a, b);\n\tswitch(result) {\n      case -1: return false;\n      case 0: return eq;\n      case 1: return true;\n    }\n}\n\nexport default loki\n"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,IAAI,MAAM,QAAQ;AAEzB,IAAIC,GAAG,GAAG,SAAAA,CAASC,CAAC,EAAEC,CAAC,EAAE;EACvB,IAAID,CAAC,IAAIC,CAAC,EAAE,OAAO,CAAC;EACpB,IAAID,CAAC,GAAGC,CAAC,EAAE,OAAO,CAAC,CAAC;EACpB,OAAO,CAAC;AACV,CAAC;;AAED;AACAH,IAAI,CAACI,WAAW,CAACC,GAAG,GAAG,UAASH,CAAC,EAAEC,CAAC,EAAE;EACpC,OAAOF,GAAG,CAACC,CAAC,EAAEC,CAAC,CAAC,KAAK,CAAC;AACxB,CAAC;;AAED;AACAH,IAAI,CAACI,WAAW,CAACE,EAAE,GAAG,UAASJ,CAAC,EAAEC,CAAC,EAAEI,EAAE,EAAE;EACxC,IAAIC,MAAM,GAAGP,GAAG,CAACC,CAAC,EAAEC,CAAC,CAAC;EACtB,QAAOK,MAAM;IACR,KAAK,CAAC,CAAC;MAAE,OAAO,IAAI;IACpB,KAAK,CAAC;MAAE,OAAOD,EAAE;IACjB,KAAK,CAAC;MAAE,OAAO,KAAK;EACtB;AACJ,CAAC;;AAED;AACAP,IAAI,CAACI,WAAW,CAACK,EAAE,GAAG,UAASP,CAAC,EAAEC,CAAC,EAAEI,EAAE,EAAE;EACvC,IAAIC,MAAM,GAAGP,GAAG,CAACC,CAAC,EAAEC,CAAC,CAAC;EACvB,QAAOK,MAAM;IACR,KAAK,CAAC,CAAC;MAAE,OAAO,KAAK;IACrB,KAAK,CAAC;MAAE,OAAOD,EAAE;IACjB,KAAK,CAAC;MAAE,OAAO,IAAI;EACrB;AACJ,CAAC;AAED,eAAeP,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}